(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function Hh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fa={exports:{}},Si={},ja={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function C_(){if(Hf)return Z;Hf=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.iterator;function k(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,V={};function q(C,T,J){this.props=C,this.context=T,this.refs=V,this.updater=J||M}q.prototype.isReactComponent={},q.prototype.setState=function(C,T){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,T,"setState")},q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Fe(){}Fe.prototype=q.prototype;function Ve(C,T,J){this.props=C,this.context=T,this.refs=V,this.updater=J||M}var He=Ve.prototype=new Fe;He.constructor=Ve,j(He,q.prototype),He.isPureReactComponent=!0;var Pe=Array.isArray,mt=Object.prototype.hasOwnProperty,je={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function ce(C,T,J){var Y,ie={},se=null,fe=null;if(T!=null)for(Y in T.ref!==void 0&&(fe=T.ref),T.key!==void 0&&(se=""+T.key),T)mt.call(T,Y)&&!X.hasOwnProperty(Y)&&(ie[Y]=T[Y]);var ae=arguments.length-2;if(ae===1)ie.children=J;else if(1<ae){for(var Ce=Array(ae),_t=0;_t<ae;_t++)Ce[_t]=arguments[_t+2];ie.children=Ce}if(C&&C.defaultProps)for(Y in ae=C.defaultProps,ae)ie[Y]===void 0&&(ie[Y]=ae[Y]);return{$$typeof:i,type:C,key:se,ref:fe,props:ie,_owner:je.current}}function $e(C,T){return{$$typeof:i,type:C.type,key:T,ref:C.ref,props:C.props,_owner:C._owner}}function Ie(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function tt(C){var T={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(J){return T[J]})}var nt=/\/+/g;function rt(C,T){return typeof C=="object"&&C!==null&&C.key!=null?tt(""+C.key):T.toString(36)}function gt(C,T,J,Y,ie){var se=typeof C;(se==="undefined"||se==="boolean")&&(C=null);var fe=!1;if(C===null)fe=!0;else switch(se){case"string":case"number":fe=!0;break;case"object":switch(C.$$typeof){case i:case t:fe=!0}}if(fe)return fe=C,ie=ie(fe),C=Y===""?"."+rt(fe,0):Y,Pe(ie)?(J="",C!=null&&(J=C.replace(nt,"$&/")+"/"),gt(ie,T,J,"",function(_t){return _t})):ie!=null&&(Ie(ie)&&(ie=$e(ie,J+(!ie.key||fe&&fe.key===ie.key?"":(""+ie.key).replace(nt,"$&/")+"/")+C)),T.push(ie)),1;if(fe=0,Y=Y===""?".":Y+":",Pe(C))for(var ae=0;ae<C.length;ae++){se=C[ae];var Ce=Y+rt(se,ae);fe+=gt(se,T,J,Ce,ie)}else if(Ce=k(C),typeof Ce=="function")for(C=Ce.call(C),ae=0;!(se=C.next()).done;)se=se.value,Ce=Y+rt(se,ae++),fe+=gt(se,T,J,Ce,ie);else if(se==="object")throw T=String(C),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return fe}function xt(C,T,J){if(C==null)return C;var Y=[],ie=0;return gt(C,Y,"","",function(se){return T.call(J,se,ie++)}),Y}function Ke(C){if(C._status===-1){var T=C._result;T=T(),T.then(function(J){(C._status===0||C._status===-1)&&(C._status=1,C._result=J)},function(J){(C._status===0||C._status===-1)&&(C._status=2,C._result=J)}),C._status===-1&&(C._status=0,C._result=T)}if(C._status===1)return C._result.default;throw C._result}var we={current:null},L={transition:null},G={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:L,ReactCurrentOwner:je};function z(){throw Error("act(...) is not supported in production builds of React.")}return Z.Children={map:xt,forEach:function(C,T,J){xt(C,function(){T.apply(this,arguments)},J)},count:function(C){var T=0;return xt(C,function(){T++}),T},toArray:function(C){return xt(C,function(T){return T})||[]},only:function(C){if(!Ie(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Z.Component=q,Z.Fragment=r,Z.Profiler=a,Z.PureComponent=Ve,Z.StrictMode=o,Z.Suspense=m,Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Z.act=z,Z.cloneElement=function(C,T,J){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var Y=j({},C.props),ie=C.key,se=C.ref,fe=C._owner;if(T!=null){if(T.ref!==void 0&&(se=T.ref,fe=je.current),T.key!==void 0&&(ie=""+T.key),C.type&&C.type.defaultProps)var ae=C.type.defaultProps;for(Ce in T)mt.call(T,Ce)&&!X.hasOwnProperty(Ce)&&(Y[Ce]=T[Ce]===void 0&&ae!==void 0?ae[Ce]:T[Ce])}var Ce=arguments.length-2;if(Ce===1)Y.children=J;else if(1<Ce){ae=Array(Ce);for(var _t=0;_t<Ce;_t++)ae[_t]=arguments[_t+2];Y.children=ae}return{$$typeof:i,type:C.type,key:ie,ref:se,props:Y,_owner:fe}},Z.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:c,_context:C},C.Consumer=C},Z.createElement=ce,Z.createFactory=function(C){var T=ce.bind(null,C);return T.type=C,T},Z.createRef=function(){return{current:null}},Z.forwardRef=function(C){return{$$typeof:p,render:C}},Z.isValidElement=Ie,Z.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:Ke}},Z.memo=function(C,T){return{$$typeof:g,type:C,compare:T===void 0?null:T}},Z.startTransition=function(C){var T=L.transition;L.transition={};try{C()}finally{L.transition=T}},Z.unstable_act=z,Z.useCallback=function(C,T){return we.current.useCallback(C,T)},Z.useContext=function(C){return we.current.useContext(C)},Z.useDebugValue=function(){},Z.useDeferredValue=function(C){return we.current.useDeferredValue(C)},Z.useEffect=function(C,T){return we.current.useEffect(C,T)},Z.useId=function(){return we.current.useId()},Z.useImperativeHandle=function(C,T,J){return we.current.useImperativeHandle(C,T,J)},Z.useInsertionEffect=function(C,T){return we.current.useInsertionEffect(C,T)},Z.useLayoutEffect=function(C,T){return we.current.useLayoutEffect(C,T)},Z.useMemo=function(C,T){return we.current.useMemo(C,T)},Z.useReducer=function(C,T,J){return we.current.useReducer(C,T,J)},Z.useRef=function(C){return we.current.useRef(C)},Z.useState=function(C){return we.current.useState(C)},Z.useSyncExternalStore=function(C,T,J){return we.current.useSyncExternalStore(C,T,J)},Z.useTransition=function(){return we.current.useTransition()},Z.version="18.3.1",Z}var $f;function _u(){return $f||($f=1,ja.exports=C_()),ja.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function E_(){if(Gf)return Si;Gf=1;var i=_u(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,g){var S,w={},k=null,M=null;g!==void 0&&(k=""+g),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(M=m.ref);for(S in m)o.call(m,S)&&!c.hasOwnProperty(S)&&(w[S]=m[S]);if(p&&p.defaultProps)for(S in m=p.defaultProps,m)w[S]===void 0&&(w[S]=m[S]);return{$$typeof:t,type:p,key:k,ref:M,props:w,_owner:a.current}}return Si.Fragment=r,Si.jsx=f,Si.jsxs=f,Si}var Qf;function S_(){return Qf||(Qf=1,Fa.exports=E_()),Fa.exports}var I=S_(),pe=_u();const x_=Hh(pe);var mo={},za={exports:{}},ft={},Ua={exports:{}},Ba={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function k_(){return qf||(qf=1,function(i){function t(L,G){var z=L.length;L.push(G);e:for(;0<z;){var C=z-1>>>1,T=L[C];if(0<a(T,G))L[C]=G,L[z]=T,z=C;else break e}}function r(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var G=L[0],z=L.pop();if(z!==G){L[0]=z;e:for(var C=0,T=L.length,J=T>>>1;C<J;){var Y=2*(C+1)-1,ie=L[Y],se=Y+1,fe=L[se];if(0>a(ie,z))se<T&&0>a(fe,ie)?(L[C]=fe,L[se]=z,C=se):(L[C]=ie,L[Y]=z,C=Y);else if(se<T&&0>a(fe,z))L[C]=fe,L[se]=z,C=se;else break e}}return G}function a(L,G){var z=L.sortIndex-G.sortIndex;return z!==0?z:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],g=[],S=1,w=null,k=3,M=!1,j=!1,V=!1,q=typeof setTimeout=="function"?setTimeout:null,Fe=typeof clearTimeout=="function"?clearTimeout:null,Ve=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function He(L){for(var G=r(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=L)o(g),G.sortIndex=G.expirationTime,t(m,G);else break;G=r(g)}}function Pe(L){if(V=!1,He(L),!j)if(r(m)!==null)j=!0,Ke(mt);else{var G=r(g);G!==null&&we(Pe,G.startTime-L)}}function mt(L,G){j=!1,V&&(V=!1,Fe(ce),ce=-1),M=!0;var z=k;try{for(He(G),w=r(m);w!==null&&(!(w.expirationTime>G)||L&&!tt());){var C=w.callback;if(typeof C=="function"){w.callback=null,k=w.priorityLevel;var T=C(w.expirationTime<=G);G=i.unstable_now(),typeof T=="function"?w.callback=T:w===r(m)&&o(m),He(G)}else o(m);w=r(m)}if(w!==null)var J=!0;else{var Y=r(g);Y!==null&&we(Pe,Y.startTime-G),J=!1}return J}finally{w=null,k=z,M=!1}}var je=!1,X=null,ce=-1,$e=5,Ie=-1;function tt(){return!(i.unstable_now()-Ie<$e)}function nt(){if(X!==null){var L=i.unstable_now();Ie=L;var G=!0;try{G=X(!0,L)}finally{G?rt():(je=!1,X=null)}}else je=!1}var rt;if(typeof Ve=="function")rt=function(){Ve(nt)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,xt=gt.port2;gt.port1.onmessage=nt,rt=function(){xt.postMessage(null)}}else rt=function(){q(nt,0)};function Ke(L){X=L,je||(je=!0,rt())}function we(L,G){ce=q(function(){L(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_continueExecution=function(){j||M||(j=!0,Ke(mt))},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$e=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(L){switch(k){case 1:case 2:case 3:var G=3;break;default:G=k}var z=k;k=G;try{return L()}finally{k=z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=k;k=L;try{return G()}finally{k=z}},i.unstable_scheduleCallback=function(L,G,z){var C=i.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?C+z:C):z=C,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=z+T,L={id:S++,callback:G,priorityLevel:L,startTime:z,expirationTime:T,sortIndex:-1},z>C?(L.sortIndex=z,t(g,L),r(m)===null&&L===r(g)&&(V?(Fe(ce),ce=-1):V=!0,we(Pe,z-C))):(L.sortIndex=T,t(m,L),j||M||(j=!0,Ke(mt))),L},i.unstable_shouldYield=tt,i.unstable_wrapCallback=function(L){var G=k;return function(){var z=k;k=G;try{return L.apply(this,arguments)}finally{k=z}}}}(Ba)),Ba}var Kf;function N_(){return Kf||(Kf=1,Ua.exports=k_()),Ua.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf;function I_(){if(Yf)return ft;Yf=1;var i=_u(),t=N_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},w={};function k(e){return m.call(w,e)?!0:m.call(S,e)?!1:g.test(e)?w[e]=!0:(S[e]=!0,!1)}function M(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,n,s,l){if(n===null||typeof n>"u"||M(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function V(e,n,s,l,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){q[e]=new V(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];q[n]=new V(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){q[e]=new V(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){q[e]=new V(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){q[e]=new V(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){q[e]=new V(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){q[e]=new V(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){q[e]=new V(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){q[e]=new V(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fe=/[\-:]([a-z])/g;function Ve(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Fe,Ve);q[n]=new V(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Fe,Ve);q[n]=new V(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Fe,Ve);q[n]=new V(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){q[e]=new V(e,1,!1,e.toLowerCase(),null,!1,!1)}),q.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){q[e]=new V(e,1,!1,e.toLowerCase(),null,!0,!0)});function He(e,n,s,l){var u=q.hasOwnProperty(n)?q[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(j(n,s,u,l)&&(s=null),l||u===null?k(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var Pe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mt=Symbol.for("react.element"),je=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),$e=Symbol.for("react.profiler"),Ie=Symbol.for("react.provider"),tt=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),L=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,C;function T(e){if(C===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||""}return`
`+C+e}var J=!1;function Y(e,n){if(!e||J)return"";J=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(N){var l=N}Reflect.construct(e,[],n)}else{try{n.call()}catch(N){l=N}e.call(n.prototype)}else{try{throw Error()}catch(N){l=N}e()}}catch(N){if(N&&l&&typeof N.stack=="string"){for(var u=N.stack.split(`
`),d=l.stack.split(`
`),h=u.length-1,_=d.length-1;1<=h&&0<=_&&u[h]!==d[_];)_--;for(;1<=h&&0<=_;h--,_--)if(u[h]!==d[_]){if(h!==1||_!==1)do if(h--,_--,0>_||u[h]!==d[_]){var y=`
`+u[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=_);break}}}finally{J=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?T(e):""}function ie(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=Y(e.type,!1),e;case 11:return e=Y(e.type.render,!1),e;case 1:return e=Y(e.type,!0),e;default:return""}}function se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case je:return"Portal";case $e:return"Profiler";case ce:return"StrictMode";case rt:return"Suspense";case gt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tt:return(e.displayName||"Context")+".Consumer";case Ie:return(e._context.displayName||"Context")+".Provider";case nt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xt:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case Ke:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}function fe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(n);case 8:return n===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ce(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _t(e){var n=Ce(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function is(e){e._valueTracker||(e._valueTracker=_t(e))}function Ku(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Ce(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vo(e,n){var s=n.checked;return z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Yu(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=ae(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xu(e,n){n=n.checked,n!=null&&He(e,"checked",n,!1)}function Ho(e,n){Xu(e,n);var s=ae(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?$o(e,n.type,s):n.hasOwnProperty("defaultValue")&&$o(e,n.type,ae(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ju(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function $o(e,n,s){(n!=="number"||ss(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var zr=Array.isArray;function tr(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ae(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Go(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zu(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(zr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:ae(s)}}function ec(e,n){var s=ae(n.value),l=ae(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function tc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?nc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var os,rc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ur(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nm=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){Nm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Br[n]=Br[e]})});function ic(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Br.hasOwnProperty(e)&&Br[e]?(""+n).trim():n+"px"}function sc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=ic(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var Im=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(e,n){if(n){if(Im[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Ko(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=null;function Xo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jo=null,nr=null,rr=null;function oc(e){if(e=ai(e)){if(typeof Jo!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Rs(n),Jo(e.stateNode,e.type,n))}}function lc(e){nr?rr?rr.push(e):rr=[e]:nr=e}function ac(){if(nr){var e=nr,n=rr;if(rr=nr=null,oc(e),n)for(e=0;e<n.length;e++)oc(n[e])}}function uc(e,n){return e(n)}function cc(){}var Zo=!1;function dc(e,n,s){if(Zo)return e(n,s);Zo=!0;try{return uc(e,n,s)}finally{Zo=!1,(nr!==null||rr!==null)&&(cc(),ac())}}function br(e,n){var s=e.stateNode;if(s===null)return null;var l=Rs(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var el=!1;if(p)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){el=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{el=!1}function Tm(e,n,s,l,u,d,h,_,y){var N=Array.prototype.slice.call(arguments,3);try{n.apply(s,N)}catch(P){this.onError(P)}}var Vr=!1,ls=null,as=!1,tl=null,Rm={onError:function(e){Vr=!0,ls=e}};function Pm(e,n,s,l,u,d,h,_,y){Vr=!1,ls=null,Tm.apply(Rm,arguments)}function Dm(e,n,s,l,u,d,h,_,y){if(Pm.apply(this,arguments),Vr){if(Vr){var N=ls;Vr=!1,ls=null}else throw Error(r(198));as||(as=!0,tl=N)}}function Ln(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function fc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function hc(e){if(Ln(e)!==e)throw Error(r(188))}function Am(e){var n=e.alternate;if(!n){if(n=Ln(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return hc(u),e;if(d===l)return hc(u),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=d;else{for(var h=!1,_=u.child;_;){if(_===s){h=!0,s=u,l=d;break}if(_===l){h=!0,l=u,s=d;break}_=_.sibling}if(!h){for(_=d.child;_;){if(_===s){h=!0,s=d,l=u;break}if(_===l){h=!0,l=d,s=u;break}_=_.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function pc(e){return e=Am(e),e!==null?mc(e):null}function mc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=mc(e);if(n!==null)return n;e=e.sibling}return null}var gc=t.unstable_scheduleCallback,_c=t.unstable_cancelCallback,Om=t.unstable_shouldYield,Mm=t.unstable_requestPaint,Te=t.unstable_now,Lm=t.unstable_getCurrentPriorityLevel,nl=t.unstable_ImmediatePriority,yc=t.unstable_UserBlockingPriority,us=t.unstable_NormalPriority,Fm=t.unstable_LowPriority,vc=t.unstable_IdlePriority,cs=null,bt=null;function jm(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(cs,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Bm,zm=Math.log,Um=Math.LN2;function Bm(e){return e>>>=0,e===0?32:31-(zm(e)/Um|0)|0}var ds=64,fs=4194304;function Hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hs(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var _=h&~u;_!==0?l=Hr(_):(d&=h,d!==0&&(l=Hr(d)))}else h=s&~u,h!==0?l=Hr(h):d!==0&&(l=Hr(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&u)&&(u=l&-l,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Dt(n),u=1<<s,l|=e[s],n&=~u;return l}function bm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wm(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Dt(d),_=1<<h,y=u[h];y===-1?(!(_&s)||_&l)&&(u[h]=bm(_,n)):y<=n&&(e.expiredLanes|=_),d&=~_}}function rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wc(){var e=ds;return ds<<=1,!(ds&4194240)&&(ds=64),e}function il(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function $r(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Dt(n),e[n]=s}function Vm(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-Dt(s),d=1<<u;n[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function sl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Dt(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}var ue=0;function Cc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,ol,Sc,xc,kc,ll=!1,ps=[],an=null,un=null,cn=null,Gr=new Map,Qr=new Map,dn=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nc(e,n){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":Gr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(n.pointerId)}}function qr(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=ai(n),n!==null&&ol(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function $m(e,n,s,l,u){switch(n){case"focusin":return an=qr(an,e,n,s,l,u),!0;case"dragenter":return un=qr(un,e,n,s,l,u),!0;case"mouseover":return cn=qr(cn,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return Gr.set(d,qr(Gr.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Qr.set(d,qr(Qr.get(d)||null,e,n,s,l,u)),!0}return!1}function Ic(e){var n=Fn(e.target);if(n!==null){var s=Ln(n);if(s!==null){if(n=s.tag,n===13){if(n=fc(s),n!==null){e.blockedOn=n,kc(e.priority,function(){Sc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ul(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Yo=l,s.target.dispatchEvent(l),Yo=null}else return n=ai(s),n!==null&&ol(n),e.blockedOn=s,!1;n.shift()}return!0}function Tc(e,n,s){ms(e)&&s.delete(n)}function Gm(){ll=!1,an!==null&&ms(an)&&(an=null),un!==null&&ms(un)&&(un=null),cn!==null&&ms(cn)&&(cn=null),Gr.forEach(Tc),Qr.forEach(Tc)}function Kr(e,n){e.blockedOn===n&&(e.blockedOn=null,ll||(ll=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Gm)))}function Yr(e){function n(u){return Kr(u,e)}if(0<ps.length){Kr(ps[0],e);for(var s=1;s<ps.length;s++){var l=ps[s];l.blockedOn===e&&(l.blockedOn=null)}}for(an!==null&&Kr(an,e),un!==null&&Kr(un,e),cn!==null&&Kr(cn,e),Gr.forEach(n),Qr.forEach(n),s=0;s<dn.length;s++)l=dn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<dn.length&&(s=dn[0],s.blockedOn===null);)Ic(s),s.blockedOn===null&&dn.shift()}var ir=Pe.ReactCurrentBatchConfig,gs=!0;function Qm(e,n,s,l){var u=ue,d=ir.transition;ir.transition=null;try{ue=1,al(e,n,s,l)}finally{ue=u,ir.transition=d}}function qm(e,n,s,l){var u=ue,d=ir.transition;ir.transition=null;try{ue=4,al(e,n,s,l)}finally{ue=u,ir.transition=d}}function al(e,n,s,l){if(gs){var u=ul(e,n,s,l);if(u===null)Nl(e,n,l,_s,s),Nc(e,l);else if($m(u,e,n,s,l))l.stopPropagation();else if(Nc(e,l),n&4&&-1<Hm.indexOf(e)){for(;u!==null;){var d=ai(u);if(d!==null&&Ec(d),d=ul(e,n,s,l),d===null&&Nl(e,n,l,_s,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else Nl(e,n,l,null,s)}}var _s=null;function ul(e,n,s,l){if(_s=null,e=Xo(l),e=Fn(e),e!==null)if(n=Ln(e),n===null)e=null;else if(s=n.tag,s===13){if(e=fc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return _s=e,null}function Rc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lm()){case nl:return 1;case yc:return 4;case us:case Fm:return 16;case vc:return 536870912;default:return 16}default:return 16}}var fn=null,cl=null,ys=null;function Pc(){if(ys)return ys;var e,n=cl,s=n.length,l,u="value"in fn?fn.value:fn.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===u[d-l];l++);return ys=u.slice(e,1<l?1-l:void 0)}function vs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function Dc(){return!1}function yt(e){function n(s,l,u,d,h){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ws:Dc,this.isPropagationStopped=Dc,this}return z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),n}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=yt(sr),Xr=z({},sr,{view:0,detail:0}),Km=yt(Xr),fl,hl,Jr,Cs=z({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(fl=e.screenX-Jr.screenX,hl=e.screenY-Jr.screenY):hl=fl=0,Jr=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:hl}}),Ac=yt(Cs),Ym=z({},Cs,{dataTransfer:0}),Xm=yt(Ym),Jm=z({},Xr,{relatedTarget:0}),pl=yt(Jm),Zm=z({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),eg=yt(Zm),tg=z({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ng=yt(tg),rg=z({},sr,{data:0}),Oc=yt(rg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=og[e])?!!n[e]:!1}function ml(){return lg}var ag=z({},Xr,{key:function(e){if(e.key){var n=ig[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ug=yt(ag),cg=z({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=yt(cg),dg=z({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),fg=yt(dg),hg=z({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pg=yt(hg),mg=z({},Cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=yt(mg),_g=[9,13,27,32],gl=p&&"CompositionEvent"in window,Zr=null;p&&"documentMode"in document&&(Zr=document.documentMode);var yg=p&&"TextEvent"in window&&!Zr,Lc=p&&(!gl||Zr&&8<Zr&&11>=Zr),Fc=" ",jc=!1;function zc(e,n){switch(e){case"keyup":return _g.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function vg(e,n){switch(e){case"compositionend":return Uc(n);case"keypress":return n.which!==32?null:(jc=!0,Fc);case"textInput":return e=n.data,e===Fc&&jc?null:e;default:return null}}function wg(e,n){if(or)return e==="compositionend"||!gl&&zc(e,n)?(e=Pc(),ys=cl=fn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lc&&n.locale!=="ko"?null:n.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Cg[e.type]:n==="textarea"}function bc(e,n,s,l){lc(l),n=Ns(n,"onChange"),0<n.length&&(s=new dl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ei=null,ti=null;function Eg(e){sd(e,0)}function Es(e){var n=dr(e);if(Ku(n))return e}function Sg(e,n){if(e==="change")return n}var Wc=!1;if(p){var _l;if(p){var yl="oninput"in document;if(!yl){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),yl=typeof Vc.oninput=="function"}_l=yl}else _l=!1;Wc=_l&&(!document.documentMode||9<document.documentMode)}function Hc(){ei&&(ei.detachEvent("onpropertychange",$c),ti=ei=null)}function $c(e){if(e.propertyName==="value"&&Es(ti)){var n=[];bc(n,ti,e,Xo(e)),dc(Eg,n)}}function xg(e,n,s){e==="focusin"?(Hc(),ei=n,ti=s,ei.attachEvent("onpropertychange",$c)):e==="focusout"&&Hc()}function kg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Es(ti)}function Ng(e,n){if(e==="click")return Es(n)}function Ig(e,n){if(e==="input"||e==="change")return Es(n)}function Tg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var At=typeof Object.is=="function"?Object.is:Tg;function ni(e,n){if(At(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!m.call(n,u)||!At(e[u],n[u]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qc(e,n){var s=Gc(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gc(s)}}function qc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?qc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kc(){for(var e=window,n=ss();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ss(e.document)}return n}function vl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Rg(e){var n=Kc(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&qc(s.ownerDocument.documentElement,s)){if(l!==null&&vl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=Qc(s,d);var h=Qc(s,l);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pg=p&&"documentMode"in document&&11>=document.documentMode,lr=null,wl=null,ri=null,Cl=!1;function Yc(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Cl||lr==null||lr!==ss(l)||(l=lr,"selectionStart"in l&&vl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ri&&ni(ri,l)||(ri=l,l=Ns(wl,"onSelect"),0<l.length&&(n=new dl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=lr)))}function Ss(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ar={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},El={},Xc={};p&&(Xc=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function xs(e){if(El[e])return El[e];if(!ar[e])return e;var n=ar[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Xc)return El[e]=n[s];return e}var Jc=xs("animationend"),Zc=xs("animationiteration"),ed=xs("animationstart"),td=xs("transitionend"),nd=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,n){nd.set(e,n),c(n,[e])}for(var Sl=0;Sl<rd.length;Sl++){var xl=rd[Sl],Dg=xl.toLowerCase(),Ag=xl[0].toUpperCase()+xl.slice(1);hn(Dg,"on"+Ag)}hn(Jc,"onAnimationEnd"),hn(Zc,"onAnimationIteration"),hn(ed,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(td,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Og=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function id(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Dm(l,n,void 0,e),e.currentTarget=null}function sd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var _=l[h],y=_.instance,N=_.currentTarget;if(_=_.listener,y!==d&&u.isPropagationStopped())break e;id(u,_,N),d=y}else for(h=0;h<l.length;h++){if(_=l[h],y=_.instance,N=_.currentTarget,_=_.listener,y!==d&&u.isPropagationStopped())break e;id(u,_,N),d=y}}}if(as)throw e=tl,as=!1,tl=null,e}function _e(e,n){var s=n[Al];s===void 0&&(s=n[Al]=new Set);var l=e+"__bubble";s.has(l)||(od(n,e,2,!1),s.add(l))}function kl(e,n,s){var l=0;n&&(l|=4),od(s,e,l,n)}var ks="_reactListening"+Math.random().toString(36).slice(2);function si(e){if(!e[ks]){e[ks]=!0,o.forEach(function(s){s!=="selectionchange"&&(Og.has(s)||kl(s,!1,e),kl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ks]||(n[ks]=!0,kl("selectionchange",!1,n))}}function od(e,n,s,l){switch(Rc(n)){case 1:var u=Qm;break;case 4:u=qm;break;default:u=al}s=u.bind(null,n,s,e),u=void 0,!el||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Nl(e,n,s,l,u){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var _=l.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===u||y.nodeType===8&&y.parentNode===u))return;h=h.return}for(;_!==null;){if(h=Fn(_),h===null)return;if(y=h.tag,y===5||y===6){l=d=h;continue e}_=_.parentNode}}l=l.return}dc(function(){var N=d,P=Xo(s),D=[];e:{var R=nd.get(e);if(R!==void 0){var F=dl,B=e;switch(e){case"keypress":if(vs(s)===0)break e;case"keydown":case"keyup":F=ug;break;case"focusin":B="focus",F=pl;break;case"focusout":B="blur",F=pl;break;case"beforeblur":case"afterblur":F=pl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=fg;break;case Jc:case Zc:case ed:F=eg;break;case td:F=pg;break;case"scroll":F=Km;break;case"wheel":F=gg;break;case"copy":case"cut":case"paste":F=ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Mc}var b=(n&4)!==0,Re=!b&&e==="scroll",E=b?R!==null?R+"Capture":null:R;b=[];for(var v=N,x;v!==null;){x=v;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,E!==null&&(A=br(v,E),A!=null&&b.push(oi(v,A,x)))),Re)break;v=v.return}0<b.length&&(R=new F(R,B,null,s,P),D.push({event:R,listeners:b}))}}if(!(n&7)){e:{if(R=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",R&&s!==Yo&&(B=s.relatedTarget||s.fromElement)&&(Fn(B)||B[Qt]))break e;if((F||R)&&(R=P.window===P?P:(R=P.ownerDocument)?R.defaultView||R.parentWindow:window,F?(B=s.relatedTarget||s.toElement,F=N,B=B?Fn(B):null,B!==null&&(Re=Ln(B),B!==Re||B.tag!==5&&B.tag!==6)&&(B=null)):(F=null,B=N),F!==B)){if(b=Ac,A="onMouseLeave",E="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(b=Mc,A="onPointerLeave",E="onPointerEnter",v="pointer"),Re=F==null?R:dr(F),x=B==null?R:dr(B),R=new b(A,v+"leave",F,s,P),R.target=Re,R.relatedTarget=x,A=null,Fn(P)===N&&(b=new b(E,v+"enter",B,s,P),b.target=x,b.relatedTarget=Re,A=b),Re=A,F&&B)t:{for(b=F,E=B,v=0,x=b;x;x=ur(x))v++;for(x=0,A=E;A;A=ur(A))x++;for(;0<v-x;)b=ur(b),v--;for(;0<x-v;)E=ur(E),x--;for(;v--;){if(b===E||E!==null&&b===E.alternate)break t;b=ur(b),E=ur(E)}b=null}else b=null;F!==null&&ld(D,R,F,b,!1),B!==null&&Re!==null&&ld(D,Re,B,b,!0)}}e:{if(R=N?dr(N):window,F=R.nodeName&&R.nodeName.toLowerCase(),F==="select"||F==="input"&&R.type==="file")var W=Sg;else if(Bc(R))if(Wc)W=Ig;else{W=kg;var H=xg}else(F=R.nodeName)&&F.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(W=Ng);if(W&&(W=W(e,N))){bc(D,W,s,P);break e}H&&H(e,R,N),e==="focusout"&&(H=R._wrapperState)&&H.controlled&&R.type==="number"&&$o(R,"number",R.value)}switch(H=N?dr(N):window,e){case"focusin":(Bc(H)||H.contentEditable==="true")&&(lr=H,wl=N,ri=null);break;case"focusout":ri=wl=lr=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,Yc(D,s,P);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":Yc(D,s,P)}var $;if(gl)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else or?zc(e,s)&&(K="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(K="onCompositionStart");K&&(Lc&&s.locale!=="ko"&&(or||K!=="onCompositionStart"?K==="onCompositionEnd"&&or&&($=Pc()):(fn=P,cl="value"in fn?fn.value:fn.textContent,or=!0)),H=Ns(N,K),0<H.length&&(K=new Oc(K,e,null,s,P),D.push({event:K,listeners:H}),$?K.data=$:($=Uc(s),$!==null&&(K.data=$)))),($=yg?vg(e,s):wg(e,s))&&(N=Ns(N,"onBeforeInput"),0<N.length&&(P=new Oc("onBeforeInput","beforeinput",null,s,P),D.push({event:P,listeners:N}),P.data=$))}sd(D,n)})}function oi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ns(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=br(e,s),d!=null&&l.unshift(oi(e,d,u)),d=br(e,n),d!=null&&l.push(oi(e,d,u))),e=e.return}return l}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ld(e,n,s,l,u){for(var d=n._reactName,h=[];s!==null&&s!==l;){var _=s,y=_.alternate,N=_.stateNode;if(y!==null&&y===l)break;_.tag===5&&N!==null&&(_=N,u?(y=br(s,d),y!=null&&h.unshift(oi(s,y,_))):u||(y=br(s,d),y!=null&&h.push(oi(s,y,_)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Mg=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function ad(e){return(typeof e=="string"?e:""+e).replace(Mg,`
`).replace(Lg,"")}function Is(e,n,s){if(n=ad(n),ad(e)!==n&&s)throw Error(r(425))}function Ts(){}var Il=null,Tl=null;function Rl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,jg=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(e){return ud.resolve(null).then(e).catch(zg)}:Pl;function zg(e){setTimeout(function(){throw e})}function Dl(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),Yr(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);Yr(n)}function pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function cd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),Wt="__reactFiber$"+cr,li="__reactProps$"+cr,Qt="__reactContainer$"+cr,Al="__reactEvents$"+cr,Ug="__reactListeners$"+cr,Bg="__reactHandles$"+cr;function Fn(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Qt]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=cd(e);e!==null;){if(s=e[Wt])return s;e=cd(e)}return n}e=s,s=e.parentNode}return null}function ai(e){return e=e[Wt]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Rs(e){return e[li]||null}var Ol=[],fr=-1;function mn(e){return{current:e}}function ye(e){0>fr||(e.current=Ol[fr],Ol[fr]=null,fr--)}function he(e,n){fr++,Ol[fr]=e.current,e.current=n}var gn={},Ye=mn(gn),lt=mn(!1),jn=gn;function hr(e,n){var s=e.type.contextTypes;if(!s)return gn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function at(e){return e=e.childContextTypes,e!=null}function Ps(){ye(lt),ye(Ye)}function dd(e,n,s){if(Ye.current!==gn)throw Error(r(168));he(Ye,n),he(lt,s)}function fd(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(r(108,fe(e)||"Unknown",u));return z({},s,l)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,jn=Ye.current,he(Ye,e),he(lt,lt.current),!0}function hd(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=fd(e,n,jn),l.__reactInternalMemoizedMergedChildContext=e,ye(lt),ye(Ye),he(Ye,e)):ye(lt),he(lt,s)}var qt=null,As=!1,Ml=!1;function pd(e){qt===null?qt=[e]:qt.push(e)}function bg(e){As=!0,pd(e)}function _n(){if(!Ml&&qt!==null){Ml=!0;var e=0,n=ue;try{var s=qt;for(ue=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}qt=null,As=!1}catch(u){throw qt!==null&&(qt=qt.slice(e+1)),gc(nl,_n),u}finally{ue=n,Ml=!1}}return null}var pr=[],mr=0,Os=null,Ms=0,kt=[],Nt=0,zn=null,Kt=1,Yt="";function Un(e,n){pr[mr++]=Ms,pr[mr++]=Os,Os=e,Ms=n}function md(e,n,s){kt[Nt++]=Kt,kt[Nt++]=Yt,kt[Nt++]=zn,zn=e;var l=Kt;e=Yt;var u=32-Dt(l)-1;l&=~(1<<u),s+=1;var d=32-Dt(n)+u;if(30<d){var h=u-u%5;d=(l&(1<<h)-1).toString(32),l>>=h,u-=h,Kt=1<<32-Dt(n)+u|s<<u|l,Yt=d+e}else Kt=1<<d|s<<u|l,Yt=e}function Ll(e){e.return!==null&&(Un(e,1),md(e,1,0))}function Fl(e){for(;e===Os;)Os=pr[--mr],pr[mr]=null,Ms=pr[--mr],pr[mr]=null;for(;e===zn;)zn=kt[--Nt],kt[Nt]=null,Yt=kt[--Nt],kt[Nt]=null,Kt=kt[--Nt],kt[Nt]=null}var vt=null,wt=null,Ee=!1,Ot=null;function gd(e,n){var s=Pt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function _d(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,vt=e,wt=pn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,vt=e,wt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=zn!==null?{id:Kt,overflow:Yt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Pt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,vt=e,wt=null,!0):!1;default:return!1}}function jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zl(e){if(Ee){var n=wt;if(n){var s=n;if(!_d(e,n)){if(jl(e))throw Error(r(418));n=pn(s.nextSibling);var l=vt;n&&_d(e,n)?gd(l,s):(e.flags=e.flags&-4097|2,Ee=!1,vt=e)}}else{if(jl(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ee=!1,vt=e}}}function yd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Ls(e){if(e!==vt)return!1;if(!Ee)return yd(e),Ee=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Rl(e.type,e.memoizedProps)),n&&(n=wt)){if(jl(e))throw vd(),Error(r(418));for(;n;)gd(e,n),n=pn(n.nextSibling)}if(yd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){wt=pn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}wt=null}}else wt=vt?pn(e.stateNode.nextSibling):null;return!0}function vd(){for(var e=wt;e;)e=pn(e.nextSibling)}function gr(){wt=vt=null,Ee=!1}function Ul(e){Ot===null?Ot=[e]:Ot.push(e)}var Wg=Pe.ReactCurrentBatchConfig;function ui(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var u=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var _=u.refs;h===null?delete _[d]:_[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Fs(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function wd(e){var n=e._init;return n(e._payload)}function Cd(e){function n(E,v){if(e){var x=E.deletions;x===null?(E.deletions=[v],E.flags|=16):x.push(v)}}function s(E,v){if(!e)return null;for(;v!==null;)n(E,v),v=v.sibling;return null}function l(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function u(E,v){return E=kn(E,v),E.index=0,E.sibling=null,E}function d(E,v,x){return E.index=x,e?(x=E.alternate,x!==null?(x=x.index,x<v?(E.flags|=2,v):x):(E.flags|=2,v)):(E.flags|=1048576,v)}function h(E){return e&&E.alternate===null&&(E.flags|=2),E}function _(E,v,x,A){return v===null||v.tag!==6?(v=Pa(x,E.mode,A),v.return=E,v):(v=u(v,x),v.return=E,v)}function y(E,v,x,A){var W=x.type;return W===X?P(E,v,x.props.children,A,x.key):v!==null&&(v.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Ke&&wd(W)===v.type)?(A=u(v,x.props),A.ref=ui(E,v,x),A.return=E,A):(A=oo(x.type,x.key,x.props,null,E.mode,A),A.ref=ui(E,v,x),A.return=E,A)}function N(E,v,x,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Da(x,E.mode,A),v.return=E,v):(v=u(v,x.children||[]),v.return=E,v)}function P(E,v,x,A,W){return v===null||v.tag!==7?(v=Qn(x,E.mode,A,W),v.return=E,v):(v=u(v,x),v.return=E,v)}function D(E,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Pa(""+v,E.mode,x),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case mt:return x=oo(v.type,v.key,v.props,null,E.mode,x),x.ref=ui(E,null,v),x.return=E,x;case je:return v=Da(v,E.mode,x),v.return=E,v;case Ke:var A=v._init;return D(E,A(v._payload),x)}if(zr(v)||G(v))return v=Qn(v,E.mode,x,null),v.return=E,v;Fs(E,v)}return null}function R(E,v,x,A){var W=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return W!==null?null:_(E,v,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mt:return x.key===W?y(E,v,x,A):null;case je:return x.key===W?N(E,v,x,A):null;case Ke:return W=x._init,R(E,v,W(x._payload),A)}if(zr(x)||G(x))return W!==null?null:P(E,v,x,A,null);Fs(E,x)}return null}function F(E,v,x,A,W){if(typeof A=="string"&&A!==""||typeof A=="number")return E=E.get(x)||null,_(v,E,""+A,W);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case mt:return E=E.get(A.key===null?x:A.key)||null,y(v,E,A,W);case je:return E=E.get(A.key===null?x:A.key)||null,N(v,E,A,W);case Ke:var H=A._init;return F(E,v,x,H(A._payload),W)}if(zr(A)||G(A))return E=E.get(x)||null,P(v,E,A,W,null);Fs(v,A)}return null}function B(E,v,x,A){for(var W=null,H=null,$=v,K=v=0,Be=null;$!==null&&K<x.length;K++){$.index>K?(Be=$,$=null):Be=$.sibling;var oe=R(E,$,x[K],A);if(oe===null){$===null&&($=Be);break}e&&$&&oe.alternate===null&&n(E,$),v=d(oe,v,K),H===null?W=oe:H.sibling=oe,H=oe,$=Be}if(K===x.length)return s(E,$),Ee&&Un(E,K),W;if($===null){for(;K<x.length;K++)$=D(E,x[K],A),$!==null&&(v=d($,v,K),H===null?W=$:H.sibling=$,H=$);return Ee&&Un(E,K),W}for($=l(E,$);K<x.length;K++)Be=F($,E,K,x[K],A),Be!==null&&(e&&Be.alternate!==null&&$.delete(Be.key===null?K:Be.key),v=d(Be,v,K),H===null?W=Be:H.sibling=Be,H=Be);return e&&$.forEach(function(Nn){return n(E,Nn)}),Ee&&Un(E,K),W}function b(E,v,x,A){var W=G(x);if(typeof W!="function")throw Error(r(150));if(x=W.call(x),x==null)throw Error(r(151));for(var H=W=null,$=v,K=v=0,Be=null,oe=x.next();$!==null&&!oe.done;K++,oe=x.next()){$.index>K?(Be=$,$=null):Be=$.sibling;var Nn=R(E,$,oe.value,A);if(Nn===null){$===null&&($=Be);break}e&&$&&Nn.alternate===null&&n(E,$),v=d(Nn,v,K),H===null?W=Nn:H.sibling=Nn,H=Nn,$=Be}if(oe.done)return s(E,$),Ee&&Un(E,K),W;if($===null){for(;!oe.done;K++,oe=x.next())oe=D(E,oe.value,A),oe!==null&&(v=d(oe,v,K),H===null?W=oe:H.sibling=oe,H=oe);return Ee&&Un(E,K),W}for($=l(E,$);!oe.done;K++,oe=x.next())oe=F($,E,K,oe.value,A),oe!==null&&(e&&oe.alternate!==null&&$.delete(oe.key===null?K:oe.key),v=d(oe,v,K),H===null?W=oe:H.sibling=oe,H=oe);return e&&$.forEach(function(w_){return n(E,w_)}),Ee&&Un(E,K),W}function Re(E,v,x,A){if(typeof x=="object"&&x!==null&&x.type===X&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case mt:e:{for(var W=x.key,H=v;H!==null;){if(H.key===W){if(W=x.type,W===X){if(H.tag===7){s(E,H.sibling),v=u(H,x.props.children),v.return=E,E=v;break e}}else if(H.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Ke&&wd(W)===H.type){s(E,H.sibling),v=u(H,x.props),v.ref=ui(E,H,x),v.return=E,E=v;break e}s(E,H);break}else n(E,H);H=H.sibling}x.type===X?(v=Qn(x.props.children,E.mode,A,x.key),v.return=E,E=v):(A=oo(x.type,x.key,x.props,null,E.mode,A),A.ref=ui(E,v,x),A.return=E,E=A)}return h(E);case je:e:{for(H=x.key;v!==null;){if(v.key===H)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){s(E,v.sibling),v=u(v,x.children||[]),v.return=E,E=v;break e}else{s(E,v);break}else n(E,v);v=v.sibling}v=Da(x,E.mode,A),v.return=E,E=v}return h(E);case Ke:return H=x._init,Re(E,v,H(x._payload),A)}if(zr(x))return B(E,v,x,A);if(G(x))return b(E,v,x,A);Fs(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(s(E,v.sibling),v=u(v,x),v.return=E,E=v):(s(E,v),v=Pa(x,E.mode,A),v.return=E,E=v),h(E)):s(E,v)}return Re}var _r=Cd(!0),Ed=Cd(!1),js=mn(null),zs=null,yr=null,Bl=null;function bl(){Bl=yr=zs=null}function Wl(e){var n=js.current;ye(js),e._currentValue=n}function Vl(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function vr(e,n){zs=e,Bl=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ut=!0),e.firstContext=null)}function It(e){var n=e._currentValue;if(Bl!==e)if(e={context:e,memoizedValue:n,next:null},yr===null){if(zs===null)throw Error(r(308));yr=e,zs.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return n}var Bn=null;function Hl(e){Bn===null?Bn=[e]:Bn.push(e)}function Sd(e,n,s,l){var u=n.interleaved;return u===null?(s.next=s,Hl(n)):(s.next=u.next,u.next=s),n.interleaved=s,Xt(e,l)}function Xt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var yn=!1;function $l(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function vn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,re&2){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Xt(e,s)}return u=l.interleaved,u===null?(n.next=n,Hl(l)):(n.next=u.next,u.next=n),l.interleaved=n,Xt(e,s)}function Us(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,sl(e,s)}}function kd(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Bs(e,n,s,l){var u=e.updateQueue;yn=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var y=_,N=y.next;y.next=null,h===null?d=N:h.next=N,h=y;var P=e.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==h&&(_===null?P.firstBaseUpdate=N:_.next=N,P.lastBaseUpdate=y))}if(d!==null){var D=u.baseState;h=0,P=N=y=null,_=d;do{var R=_.lane,F=_.eventTime;if((l&R)===R){P!==null&&(P=P.next={eventTime:F,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var B=e,b=_;switch(R=n,F=s,b.tag){case 1:if(B=b.payload,typeof B=="function"){D=B.call(F,D,R);break e}D=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=b.payload,R=typeof B=="function"?B.call(F,D,R):B,R==null)break e;D=z({},D,R);break e;case 2:yn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,R=u.effects,R===null?u.effects=[_]:R.push(_))}else F={eventTime:F,lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(N=P=F,y=D):P=P.next=F,h|=R;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;R=_,_=R.next,R.next=null,u.lastBaseUpdate=R,u.shared.pending=null}}while(!0);if(P===null&&(y=D),u.baseState=y,u.firstBaseUpdate=N,u.lastBaseUpdate=P,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);Vn|=h,e.lanes=h,e.memoizedState=D}}function Nd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(r(191,u));u.call(l)}}}var ci={},Vt=mn(ci),di=mn(ci),fi=mn(ci);function bn(e){if(e===ci)throw Error(r(174));return e}function Gl(e,n){switch(he(fi,n),he(di,e),he(Vt,ci),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Qo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Qo(n,e)}ye(Vt),he(Vt,n)}function wr(){ye(Vt),ye(di),ye(fi)}function Id(e){bn(fi.current);var n=bn(Vt.current),s=Qo(n,e.type);n!==s&&(he(di,e),he(Vt,s))}function Ql(e){di.current===e&&(ye(Vt),ye(di))}var Se=mn(0);function bs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ql=[];function Kl(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var Ws=Pe.ReactCurrentDispatcher,Yl=Pe.ReactCurrentBatchConfig,Wn=0,xe=null,Ae=null,ze=null,Vs=!1,hi=!1,pi=0,Vg=0;function Xe(){throw Error(r(321))}function Xl(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!At(e[s],n[s]))return!1;return!0}function Jl(e,n,s,l,u,d){if(Wn=d,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ws.current=e===null||e.memoizedState===null?Qg:qg,e=s(l,u),hi){d=0;do{if(hi=!1,pi=0,25<=d)throw Error(r(301));d+=1,ze=Ae=null,n.updateQueue=null,Ws.current=Kg,e=s(l,u)}while(hi)}if(Ws.current=Gs,n=Ae!==null&&Ae.next!==null,Wn=0,ze=Ae=xe=null,Vs=!1,n)throw Error(r(300));return e}function Zl(){var e=pi!==0;return pi=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?xe.memoizedState=ze=e:ze=ze.next=e,ze}function Tt(){if(Ae===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var n=ze===null?xe.memoizedState:ze.next;if(n!==null)ze=n,Ae=e;else{if(e===null)throw Error(r(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},ze===null?xe.memoizedState=ze=e:ze=ze.next=e}return ze}function mi(e,n){return typeof n=="function"?n(e):n}function ea(e){var n=Tt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Ae,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var _=h=null,y=null,N=d;do{var P=N.lane;if((Wn&P)===P)y!==null&&(y=y.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),l=N.hasEagerState?N.eagerState:e(l,N.action);else{var D={lane:P,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};y===null?(_=y=D,h=l):y=y.next=D,xe.lanes|=P,Vn|=P}N=N.next}while(N!==null&&N!==d);y===null?h=l:y.next=_,At(l,n.memoizedState)||(ut=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,xe.lanes|=d,Vn|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ta(e){var n=Tt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);At(d,n.memoizedState)||(ut=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Td(){}function Rd(e,n){var s=xe,l=Tt(),u=n(),d=!At(l.memoizedState,u);if(d&&(l.memoizedState=u,ut=!0),l=l.queue,na(Ad.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||ze!==null&&ze.memoizedState.tag&1){if(s.flags|=2048,gi(9,Dd.bind(null,s,l,u,n),void 0,null),Ue===null)throw Error(r(349));Wn&30||Pd(s,n,u)}return u}function Pd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xe.updateQueue,n===null?(n={lastEffect:null,stores:null},xe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Dd(e,n,s,l){n.value=s,n.getSnapshot=l,Od(n)&&Md(e)}function Ad(e,n,s){return s(function(){Od(n)&&Md(e)})}function Od(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!At(e,s)}catch{return!0}}function Md(e){var n=Xt(e,1);n!==null&&jt(n,e,1,-1)}function Ld(e){var n=Ht();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:e},n.queue=e,e=e.dispatch=Gg.bind(null,xe,e),[n.memoizedState,e]}function gi(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=xe.updateQueue,n===null?(n={lastEffect:null,stores:null},xe.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Fd(){return Tt().memoizedState}function Hs(e,n,s,l){var u=Ht();xe.flags|=e,u.memoizedState=gi(1|n,s,void 0,l===void 0?null:l)}function $s(e,n,s,l){var u=Tt();l=l===void 0?null:l;var d=void 0;if(Ae!==null){var h=Ae.memoizedState;if(d=h.destroy,l!==null&&Xl(l,h.deps)){u.memoizedState=gi(n,s,d,l);return}}xe.flags|=e,u.memoizedState=gi(1|n,s,d,l)}function jd(e,n){return Hs(8390656,8,e,n)}function na(e,n){return $s(2048,8,e,n)}function zd(e,n){return $s(4,2,e,n)}function Ud(e,n){return $s(4,4,e,n)}function Bd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bd(e,n,s){return s=s!=null?s.concat([e]):null,$s(4,4,Bd.bind(null,n,e),s)}function ra(){}function Wd(e,n){var s=Tt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Xl(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Vd(e,n){var s=Tt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Xl(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function Hd(e,n,s){return Wn&21?(At(s,n)||(s=wc(),xe.lanes|=s,Vn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=s)}function Hg(e,n){var s=ue;ue=s!==0&&4>s?s:4,e(!0);var l=Yl.transition;Yl.transition={};try{e(!1),n()}finally{ue=s,Yl.transition=l}}function $d(){return Tt().memoizedState}function $g(e,n,s){var l=Sn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Gd(e))Qd(n,s);else if(s=Sd(e,n,s,l),s!==null){var u=st();jt(s,e,l,u),qd(s,n,l)}}function Gg(e,n,s){var l=Sn(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gd(e))Qd(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,_=d(h,s);if(u.hasEagerState=!0,u.eagerState=_,At(_,h)){var y=n.interleaved;y===null?(u.next=u,Hl(n)):(u.next=y.next,y.next=u),n.interleaved=u;return}}catch{}finally{}s=Sd(e,n,u,l),s!==null&&(u=st(),jt(s,e,l,u),qd(s,n,l))}}function Gd(e){var n=e.alternate;return e===xe||n!==null&&n===xe}function Qd(e,n){hi=Vs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function qd(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,sl(e,s)}}var Gs={readContext:It,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Qg={readContext:It,useCallback:function(e,n){return Ht().memoizedState=[e,n===void 0?null:n],e},useContext:It,useEffect:jd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Hs(4194308,4,Bd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Hs(4,2,e,n)},useMemo:function(e,n){var s=Ht();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Ht();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=$g.bind(null,xe,e),[l.memoizedState,e]},useRef:function(e){var n=Ht();return e={current:e},n.memoizedState=e},useState:Ld,useDebugValue:ra,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Ld(!1),n=e[0];return e=Hg.bind(null,e[1]),Ht().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=xe,u=Ht();if(Ee){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ue===null)throw Error(r(349));Wn&30||Pd(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,jd(Ad.bind(null,l,d,e),[e]),l.flags|=2048,gi(9,Dd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Ht(),n=Ue.identifierPrefix;if(Ee){var s=Yt,l=Kt;s=(l&~(1<<32-Dt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=pi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Vg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},qg={readContext:It,useCallback:Wd,useContext:It,useEffect:na,useImperativeHandle:bd,useInsertionEffect:zd,useLayoutEffect:Ud,useMemo:Vd,useReducer:ea,useRef:Fd,useState:function(){return ea(mi)},useDebugValue:ra,useDeferredValue:function(e){var n=Tt();return Hd(n,Ae.memoizedState,e)},useTransition:function(){var e=ea(mi)[0],n=Tt().memoizedState;return[e,n]},useMutableSource:Td,useSyncExternalStore:Rd,useId:$d,unstable_isNewReconciler:!1},Kg={readContext:It,useCallback:Wd,useContext:It,useEffect:na,useImperativeHandle:bd,useInsertionEffect:zd,useLayoutEffect:Ud,useMemo:Vd,useReducer:ta,useRef:Fd,useState:function(){return ta(mi)},useDebugValue:ra,useDeferredValue:function(e){var n=Tt();return Ae===null?n.memoizedState=e:Hd(n,Ae.memoizedState,e)},useTransition:function(){var e=ta(mi)[0],n=Tt().memoizedState;return[e,n]},useMutableSource:Td,useSyncExternalStore:Rd,useId:$d,unstable_isNewReconciler:!1};function Mt(e,n){if(e&&e.defaultProps){n=z({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function ia(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:z({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Qs={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=st(),u=Sn(e),d=Jt(l,u);d.payload=n,s!=null&&(d.callback=s),n=vn(e,d,u),n!==null&&(jt(n,e,u,l),Us(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=st(),u=Sn(e),d=Jt(l,u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=vn(e,d,u),n!==null&&(jt(n,e,u,l),Us(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=st(),l=Sn(e),u=Jt(s,l);u.tag=2,n!=null&&(u.callback=n),n=vn(e,u,l),n!==null&&(jt(n,e,l,s),Us(n,e,l))}};function Kd(e,n,s,l,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!ni(s,l)||!ni(u,d):!0}function Yd(e,n,s){var l=!1,u=gn,d=n.contextType;return typeof d=="object"&&d!==null?d=It(d):(u=at(n)?jn:Ye.current,l=n.contextTypes,d=(l=l!=null)?hr(e,u):gn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Qs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function Xd(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Qs.enqueueReplaceState(n,n.state,null)}function sa(e,n,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},$l(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=It(d):(d=at(n)?jn:Ye.current,u.context=hr(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(ia(e,n,d,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Qs.enqueueReplaceState(u,u.state,null),Bs(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,n){try{var s="",l=n;do s+=ie(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function oa(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function la(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Yg=typeof WeakMap=="function"?WeakMap:Map;function Jd(e,n,s){s=Jt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){eo||(eo=!0,Ea=l),la(e,n)},s}function Zd(e,n,s){s=Jt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;s.payload=function(){return l(u)},s.callback=function(){la(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){la(e,n),typeof l!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function ef(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Yg;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(u.add(s),e=c_.bind(null,e,n,s),n.then(e,e))}function tf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function nf(e,n,s,l,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Jt(-1,1),n.tag=2,vn(s,n,1))),s.lanes|=1),e)}var Xg=Pe.ReactCurrentOwner,ut=!1;function it(e,n,s,l){n.child=e===null?Ed(n,null,s,l):_r(n,e.child,s,l)}function rf(e,n,s,l,u){s=s.render;var d=n.ref;return vr(n,u),l=Jl(e,n,s,l,d,u),s=Zl(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Zt(e,n,u)):(Ee&&s&&Ll(n),n.flags|=1,it(e,n,l,u),n.child)}function sf(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Ra(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,of(e,n,d,l,u)):(e=oo(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&u)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:ni,s(h,l)&&e.ref===n.ref)return Zt(e,n,u)}return n.flags|=1,e=kn(d,l),e.ref=n.ref,e.return=n,n.child=e}function of(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(ni(d,l)&&e.ref===n.ref)if(ut=!1,n.pendingProps=l=d,(e.lanes&u)!==0)e.flags&131072&&(ut=!0);else return n.lanes=e.lanes,Zt(e,n,u)}return aa(e,n,s,l,u)}function lf(e,n,s){var l=n.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Sr,Ct),Ct|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,he(Sr,Ct),Ct|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,he(Sr,Ct),Ct|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,he(Sr,Ct),Ct|=l;return it(e,n,u,s),n.child}function af(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function aa(e,n,s,l,u){var d=at(s)?jn:Ye.current;return d=hr(n,d),vr(n,u),s=Jl(e,n,s,l,d,u),l=Zl(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Zt(e,n,u)):(Ee&&l&&Ll(n),n.flags|=1,it(e,n,s,u),n.child)}function uf(e,n,s,l,u){if(at(s)){var d=!0;Ds(n)}else d=!1;if(vr(n,u),n.stateNode===null)Ks(e,n),Yd(n,s,l),sa(n,s,l,u),l=!0;else if(e===null){var h=n.stateNode,_=n.memoizedProps;h.props=_;var y=h.context,N=s.contextType;typeof N=="object"&&N!==null?N=It(N):(N=at(s)?jn:Ye.current,N=hr(n,N));var P=s.getDerivedStateFromProps,D=typeof P=="function"||typeof h.getSnapshotBeforeUpdate=="function";D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==l||y!==N)&&Xd(n,h,l,N),yn=!1;var R=n.memoizedState;h.state=R,Bs(n,l,h,u),y=n.memoizedState,_!==l||R!==y||lt.current||yn?(typeof P=="function"&&(ia(n,s,P,l),y=n.memoizedState),(_=yn||Kd(n,s,_,l,R,y,N))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=N,l=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,xd(e,n),_=n.memoizedProps,N=n.type===n.elementType?_:Mt(n.type,_),h.props=N,D=n.pendingProps,R=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=It(y):(y=at(s)?jn:Ye.current,y=hr(n,y));var F=s.getDerivedStateFromProps;(P=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==D||R!==y)&&Xd(n,h,l,y),yn=!1,R=n.memoizedState,h.state=R,Bs(n,l,h,u);var B=n.memoizedState;_!==D||R!==B||lt.current||yn?(typeof F=="function"&&(ia(n,s,F,l),B=n.memoizedState),(N=yn||Kd(n,s,N,l,R,B,y)||!1)?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=y,l=N):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),l=!1)}return ua(e,n,s,l,d,u)}function ua(e,n,s,l,u,d){af(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return u&&hd(n,s,!1),Zt(e,n,d);l=n.stateNode,Xg.current=n;var _=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=_r(n,e.child,null,d),n.child=_r(n,null,_,d)):it(e,n,_,d),n.memoizedState=l.state,u&&hd(n,s,!0),n.child}function cf(e){var n=e.stateNode;n.pendingContext?dd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&dd(e,n.context,!1),Gl(e,n.containerInfo)}function df(e,n,s,l,u){return gr(),Ul(u),n.flags|=256,it(e,n,s,l),n.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function da(e){return{baseLanes:e,cachePool:null,transitions:null}}function ff(e,n,s){var l=n.pendingProps,u=Se.current,d=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(u&2)!==0),_?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),he(Se,u&1),e===null)return zl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=lo(h,l,0,null),e=Qn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=da(s),n.memoizedState=ca,e):fa(n,h));if(u=e.memoizedState,u!==null&&(_=u.dehydrated,_!==null))return Jg(e,n,h,l,_,u,s);if(d){d=l.fallback,h=n.mode,u=e.child,_=u.sibling;var y={mode:"hidden",children:l.children};return!(h&1)&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=kn(u,y),l.subtreeFlags=u.subtreeFlags&14680064),_!==null?d=kn(_,d):(d=Qn(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?da(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=ca,l}return d=e.child,e=d.sibling,l=kn(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function fa(e,n){return n=lo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function qs(e,n,s,l){return l!==null&&Ul(l),_r(n,e.child,null,s),e=fa(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jg(e,n,s,l,u,d,h){if(s)return n.flags&256?(n.flags&=-257,l=oa(Error(r(422))),qs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,u=n.mode,l=lo({mode:"visible",children:l.children},u,0,null),d=Qn(d,u,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&_r(n,e.child,null,h),n.child.memoizedState=da(h),n.memoizedState=ca,d);if(!(n.mode&1))return qs(e,n,h,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var _=l.dgst;return l=_,d=Error(r(419)),l=oa(d,l,void 0),qs(e,n,h,l)}if(_=(h&e.childLanes)!==0,ut||_){if(l=Ue,l!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|h)?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Xt(e,u),jt(l,e,u,-1))}return Ta(),l=oa(Error(r(421))),qs(e,n,h,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=d_.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,wt=pn(u.nextSibling),vt=n,Ee=!0,Ot=null,e!==null&&(kt[Nt++]=Kt,kt[Nt++]=Yt,kt[Nt++]=zn,Kt=e.id,Yt=e.overflow,zn=n),n=fa(n,l.children),n.flags|=4096,n)}function hf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Vl(e.return,n,s)}function ha(e,n,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function pf(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(it(e,n,l.children,s),l=Se.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,s,n);else if(e.tag===19)hf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(he(Se,l),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&bs(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),ha(n,!1,u,s,d);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&bs(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}ha(n,!0,s,null,d);break;case"together":ha(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ks(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Zt(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Vn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=kn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=kn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Zg(e,n,s){switch(n.tag){case 3:cf(n),gr();break;case 5:Id(n);break;case 1:at(n.type)&&Ds(n);break;case 4:Gl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;he(js,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(he(Se,Se.current&1),n.flags|=128,null):s&n.child.childLanes?ff(e,n,s):(he(Se,Se.current&1),e=Zt(e,n,s),e!==null?e.sibling:null);he(Se,Se.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return pf(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),he(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,lf(e,n,s)}return Zt(e,n,s)}var mf,pa,gf,_f;mf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},pa=function(){},gf=function(e,n,s,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,bn(Vt.current);var d=null;switch(s){case"input":u=Vo(e,u),l=Vo(e,l),d=[];break;case"select":u=z({},u,{value:void 0}),l=z({},l,{value:void 0}),d=[];break;case"textarea":u=Go(e,u),l=Go(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ts)}qo(s,l);var h;s=null;for(N in u)if(!l.hasOwnProperty(N)&&u.hasOwnProperty(N)&&u[N]!=null)if(N==="style"){var _=u[N];for(h in _)_.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in l){var y=l[N];if(_=u!=null?u[N]:void 0,l.hasOwnProperty(N)&&y!==_&&(y!=null||_!=null))if(N==="style")if(_){for(h in _)!_.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&_[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(d||(d=[]),d.push(N,s)),s=y;else N==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,_=_?_.__html:void 0,y!=null&&_!==y&&(d=d||[]).push(N,y)):N==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(N,""+y):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(a.hasOwnProperty(N)?(y!=null&&N==="onScroll"&&_e("scroll",e),d||_===y||(d=[])):(d=d||[]).push(N,y))}s&&(d=d||[]).push("style",s);var N=d;(n.updateQueue=N)&&(n.flags|=4)}},_f=function(e,n,s,l){s!==l&&(n.flags|=4)};function _i(e,n){if(!Ee)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Je(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function e_(e,n,s){var l=n.pendingProps;switch(Fl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(n),null;case 1:return at(n.type)&&Ps(),Je(n),null;case 3:return l=n.stateNode,wr(),ye(lt),ye(Ye),Kl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ls(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ot!==null&&(ka(Ot),Ot=null))),pa(e,n),Je(n),null;case 5:Ql(n);var u=bn(fi.current);if(s=n.type,e!==null&&n.stateNode!=null)gf(e,n,s,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Je(n),null}if(e=bn(Vt.current),Ls(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Wt]=n,l[li]=d,e=(n.mode&1)!==0,s){case"dialog":_e("cancel",l),_e("close",l);break;case"iframe":case"object":case"embed":_e("load",l);break;case"video":case"audio":for(u=0;u<ii.length;u++)_e(ii[u],l);break;case"source":_e("error",l);break;case"img":case"image":case"link":_e("error",l),_e("load",l);break;case"details":_e("toggle",l);break;case"input":Yu(l,d),_e("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},_e("invalid",l);break;case"textarea":Zu(l,d),_e("invalid",l)}qo(s,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var _=d[h];h==="children"?typeof _=="string"?l.textContent!==_&&(d.suppressHydrationWarning!==!0&&Is(l.textContent,_,e),u=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Is(l.textContent,_,e),u=["children",""+_]):a.hasOwnProperty(h)&&_!=null&&h==="onScroll"&&_e("scroll",l)}switch(s){case"input":is(l),Ju(l,d,!0);break;case"textarea":is(l),tc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Ts)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Wt]=n,e[li]=l,mf(e,n,!1,!1),n.stateNode=e;e:{switch(h=Ko(s,l),s){case"dialog":_e("cancel",e),_e("close",e),u=l;break;case"iframe":case"object":case"embed":_e("load",e),u=l;break;case"video":case"audio":for(u=0;u<ii.length;u++)_e(ii[u],e);u=l;break;case"source":_e("error",e),u=l;break;case"img":case"image":case"link":_e("error",e),_e("load",e),u=l;break;case"details":_e("toggle",e),u=l;break;case"input":Yu(e,l),u=Vo(e,l),_e("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=z({},l,{value:void 0}),_e("invalid",e);break;case"textarea":Zu(e,l),u=Go(e,l),_e("invalid",e);break;default:u=l}qo(s,u),_=u;for(d in _)if(_.hasOwnProperty(d)){var y=_[d];d==="style"?sc(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&rc(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Ur(e,y):typeof y=="number"&&Ur(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?y!=null&&d==="onScroll"&&_e("scroll",e):y!=null&&He(e,d,y,h))}switch(s){case"input":is(e),Ju(e,l,!1);break;case"textarea":is(e),tc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ae(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?tr(e,!!l.multiple,d,!1):l.defaultValue!=null&&tr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ts)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Je(n),null;case 6:if(e&&n.stateNode!=null)_f(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=bn(fi.current),bn(Vt.current),Ls(n)){if(l=n.stateNode,s=n.memoizedProps,l[Wt]=n,(d=l.nodeValue!==s)&&(e=vt,e!==null))switch(e.tag){case 3:Is(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Wt]=n,n.stateNode=l}return Je(n),null;case 13:if(ye(Se),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&wt!==null&&n.mode&1&&!(n.flags&128))vd(),gr(),n.flags|=98560,d=!1;else if(d=Ls(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Wt]=n}else gr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Je(n),d=!1}else Ot!==null&&(ka(Ot),Ot=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Se.current&1?Oe===0&&(Oe=3):Ta())),n.updateQueue!==null&&(n.flags|=4),Je(n),null);case 4:return wr(),pa(e,n),e===null&&si(n.stateNode.containerInfo),Je(n),null;case 10:return Wl(n.type._context),Je(n),null;case 17:return at(n.type)&&Ps(),Je(n),null;case 19:if(ye(Se),d=n.memoizedState,d===null)return Je(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)_i(d,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=bs(e),h!==null){for(n.flags|=128,_i(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return he(Se,Se.current&1|2),n.child}e=e.sibling}d.tail!==null&&Te()>xr&&(n.flags|=128,l=!0,_i(d,!1),n.lanes=4194304)}else{if(!l)if(e=bs(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),_i(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ee)return Je(n),null}else 2*Te()-d.renderingStartTime>xr&&s!==1073741824&&(n.flags|=128,l=!0,_i(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Te(),n.sibling=null,s=Se.current,he(Se,l?s&1|2:s&1),n):(Je(n),null);case 22:case 23:return Ia(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?Ct&1073741824&&(Je(n),n.subtreeFlags&6&&(n.flags|=8192)):Je(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function t_(e,n){switch(Fl(n),n.tag){case 1:return at(n.type)&&Ps(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wr(),ye(lt),ye(Ye),Kl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Ql(n),null;case 13:if(ye(Se),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ye(Se),null;case 4:return wr(),null;case 10:return Wl(n.type._context),null;case 22:case 23:return Ia(),null;case 24:return null;default:return null}}var Ys=!1,Ze=!1,n_=typeof WeakSet=="function"?WeakSet:Set,U=null;function Er(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){ke(e,n,l)}else s.current=null}function ma(e,n,s){try{s()}catch(l){ke(e,n,l)}}var yf=!1;function r_(e,n){if(Il=gs,e=Kc(),vl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,_=-1,y=-1,N=0,P=0,D=e,R=null;t:for(;;){for(var F;D!==s||u!==0&&D.nodeType!==3||(_=h+u),D!==d||l!==0&&D.nodeType!==3||(y=h+l),D.nodeType===3&&(h+=D.nodeValue.length),(F=D.firstChild)!==null;)R=D,D=F;for(;;){if(D===e)break t;if(R===s&&++N===u&&(_=h),R===d&&++P===l&&(y=h),(F=D.nextSibling)!==null)break;D=R,R=D.parentNode}D=F}s=_===-1||y===-1?null:{start:_,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Tl={focusedElem:e,selectionRange:s},gs=!1,U=n;U!==null;)if(n=U,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,U=e;else for(;U!==null;){n=U;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var b=B.memoizedProps,Re=B.memoizedState,E=n.stateNode,v=E.getSnapshotBeforeUpdate(n.elementType===n.type?b:Mt(n.type,b),Re);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=n.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(A){ke(n,n.return,A)}if(e=n.sibling,e!==null){e.return=n.return,U=e;break}U=n.return}return B=yf,yf=!1,B}function yi(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&ma(n,s,d)}u=u.next}while(u!==l)}}function Xs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function ga(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function vf(e){var n=e.alternate;n!==null&&(e.alternate=null,vf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Wt],delete n[li],delete n[Al],delete n[Ug],delete n[Bg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wf(e){return e.tag===5||e.tag===3||e.tag===4}function Cf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _a(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ts));else if(l!==4&&(e=e.child,e!==null))for(_a(e,n,s),e=e.sibling;e!==null;)_a(e,n,s),e=e.sibling}function ya(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ya(e,n,s),e=e.sibling;e!==null;)ya(e,n,s),e=e.sibling}var Ge=null,Lt=!1;function wn(e,n,s){for(s=s.child;s!==null;)Ef(e,n,s),s=s.sibling}function Ef(e,n,s){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(cs,s)}catch{}switch(s.tag){case 5:Ze||Er(s,n);case 6:var l=Ge,u=Lt;Ge=null,wn(e,n,s),Ge=l,Lt=u,Ge!==null&&(Lt?(e=Ge,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ge.removeChild(s.stateNode));break;case 18:Ge!==null&&(Lt?(e=Ge,s=s.stateNode,e.nodeType===8?Dl(e.parentNode,s):e.nodeType===1&&Dl(e,s),Yr(e)):Dl(Ge,s.stateNode));break;case 4:l=Ge,u=Lt,Ge=s.stateNode.containerInfo,Lt=!0,wn(e,n,s),Ge=l,Lt=u;break;case 0:case 11:case 14:case 15:if(!Ze&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&ma(s,n,h),u=u.next}while(u!==l)}wn(e,n,s);break;case 1:if(!Ze&&(Er(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){ke(s,n,_)}wn(e,n,s);break;case 21:wn(e,n,s);break;case 22:s.mode&1?(Ze=(l=Ze)||s.memoizedState!==null,wn(e,n,s),Ze=l):wn(e,n,s);break;default:wn(e,n,s)}}function Sf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new n_),n.forEach(function(l){var u=f_.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function Ft(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 5:Ge=_.stateNode,Lt=!1;break e;case 3:Ge=_.stateNode.containerInfo,Lt=!0;break e;case 4:Ge=_.stateNode.containerInfo,Lt=!0;break e}_=_.return}if(Ge===null)throw Error(r(160));Ef(d,h,u),Ge=null,Lt=!1;var y=u.alternate;y!==null&&(y.return=null),u.return=null}catch(N){ke(u,n,N)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xf(n,e),n=n.sibling}function xf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(n,e),$t(e),l&4){try{yi(3,e,e.return),Xs(3,e)}catch(b){ke(e,e.return,b)}try{yi(5,e,e.return)}catch(b){ke(e,e.return,b)}}break;case 1:Ft(n,e),$t(e),l&512&&s!==null&&Er(s,s.return);break;case 5:if(Ft(n,e),$t(e),l&512&&s!==null&&Er(s,s.return),e.flags&32){var u=e.stateNode;try{Ur(u,"")}catch(b){ke(e,e.return,b)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,_=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&Xu(u,d),Ko(_,h);var N=Ko(_,d);for(h=0;h<y.length;h+=2){var P=y[h],D=y[h+1];P==="style"?sc(u,D):P==="dangerouslySetInnerHTML"?rc(u,D):P==="children"?Ur(u,D):He(u,P,D,N)}switch(_){case"input":Ho(u,d);break;case"textarea":ec(u,d);break;case"select":var R=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?tr(u,!!d.multiple,F,!1):R!==!!d.multiple&&(d.defaultValue!=null?tr(u,!!d.multiple,d.defaultValue,!0):tr(u,!!d.multiple,d.multiple?[]:"",!1))}u[li]=d}catch(b){ke(e,e.return,b)}}break;case 6:if(Ft(n,e),$t(e),l&4){if(e.stateNode===null)throw Error(r(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(b){ke(e,e.return,b)}}break;case 3:if(Ft(n,e),$t(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Yr(n.containerInfo)}catch(b){ke(e,e.return,b)}break;case 4:Ft(n,e),$t(e);break;case 13:Ft(n,e),$t(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Ca=Te())),l&4&&Sf(e);break;case 22:if(P=s!==null&&s.memoizedState!==null,e.mode&1?(Ze=(N=Ze)||P,Ft(n,e),Ze=N):Ft(n,e),$t(e),l&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!P&&e.mode&1)for(U=e,P=e.child;P!==null;){for(D=U=P;U!==null;){switch(R=U,F=R.child,R.tag){case 0:case 11:case 14:case 15:yi(4,R,R.return);break;case 1:Er(R,R.return);var B=R.stateNode;if(typeof B.componentWillUnmount=="function"){l=R,s=R.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(b){ke(l,s,b)}}break;case 5:Er(R,R.return);break;case 22:if(R.memoizedState!==null){If(D);continue}}F!==null?(F.return=R,U=F):If(D)}P=P.sibling}e:for(P=null,D=e;;){if(D.tag===5){if(P===null){P=D;try{u=D.stateNode,N?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=D.stateNode,y=D.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,_.style.display=ic("display",h))}catch(b){ke(e,e.return,b)}}}else if(D.tag===6){if(P===null)try{D.stateNode.nodeValue=N?"":D.memoizedProps}catch(b){ke(e,e.return,b)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;P===D&&(P=null),D=D.return}P===D&&(P=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Ft(n,e),$t(e),l&4&&Sf(e);break;case 21:break;default:Ft(n,e),$t(e)}}function $t(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(wf(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Ur(u,""),l.flags&=-33);var d=Cf(e);ya(e,d,u);break;case 3:case 4:var h=l.stateNode.containerInfo,_=Cf(e);_a(e,_,h);break;default:throw Error(r(161))}}catch(y){ke(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function i_(e,n,s){U=e,kf(e)}function kf(e,n,s){for(var l=(e.mode&1)!==0;U!==null;){var u=U,d=u.child;if(u.tag===22&&l){var h=u.memoizedState!==null||Ys;if(!h){var _=u.alternate,y=_!==null&&_.memoizedState!==null||Ze;_=Ys;var N=Ze;if(Ys=h,(Ze=y)&&!N)for(U=u;U!==null;)h=U,y=h.child,h.tag===22&&h.memoizedState!==null?Tf(u):y!==null?(y.return=h,U=y):Tf(u);for(;d!==null;)U=d,kf(d),d=d.sibling;U=u,Ys=_,Ze=N}Nf(e)}else u.subtreeFlags&8772&&d!==null?(d.return=u,U=d):Nf(e)}}function Nf(e){for(;U!==null;){var n=U;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Ze||Xs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Ze)if(s===null)l.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:Mt(n.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Nd(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Nd(n,h,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var N=n.alternate;if(N!==null){var P=N.memoizedState;if(P!==null){var D=P.dehydrated;D!==null&&Yr(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ze||n.flags&512&&ga(n)}catch(R){ke(n,n.return,R)}}if(n===e){U=null;break}if(s=n.sibling,s!==null){s.return=n.return,U=s;break}U=n.return}}function If(e){for(;U!==null;){var n=U;if(n===e){U=null;break}var s=n.sibling;if(s!==null){s.return=n.return,U=s;break}U=n.return}}function Tf(e){for(;U!==null;){var n=U;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Xs(4,n)}catch(y){ke(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(y){ke(n,u,y)}}var d=n.return;try{ga(n)}catch(y){ke(n,d,y)}break;case 5:var h=n.return;try{ga(n)}catch(y){ke(n,h,y)}}}catch(y){ke(n,n.return,y)}if(n===e){U=null;break}var _=n.sibling;if(_!==null){_.return=n.return,U=_;break}U=n.return}}var s_=Math.ceil,Js=Pe.ReactCurrentDispatcher,va=Pe.ReactCurrentOwner,Rt=Pe.ReactCurrentBatchConfig,re=0,Ue=null,De=null,Qe=0,Ct=0,Sr=mn(0),Oe=0,vi=null,Vn=0,Zs=0,wa=0,wi=null,ct=null,Ca=0,xr=1/0,en=null,eo=!1,Ea=null,Cn=null,to=!1,En=null,no=0,Ci=0,Sa=null,ro=-1,io=0;function st(){return re&6?Te():ro!==-1?ro:ro=Te()}function Sn(e){return e.mode&1?re&2&&Qe!==0?Qe&-Qe:Wg.transition!==null?(io===0&&(io=wc()),io):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Rc(e.type)),e):1}function jt(e,n,s,l){if(50<Ci)throw Ci=0,Sa=null,Error(r(185));$r(e,s,l),(!(re&2)||e!==Ue)&&(e===Ue&&(!(re&2)&&(Zs|=s),Oe===4&&xn(e,Qe)),dt(e,l),s===1&&re===0&&!(n.mode&1)&&(xr=Te()+500,As&&_n()))}function dt(e,n){var s=e.callbackNode;Wm(e,n);var l=hs(e,e===Ue?Qe:0);if(l===0)s!==null&&_c(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&_c(s),n===1)e.tag===0?bg(Pf.bind(null,e)):pd(Pf.bind(null,e)),jg(function(){!(re&6)&&_n()}),s=null;else{switch(Cc(l)){case 1:s=nl;break;case 4:s=yc;break;case 16:s=us;break;case 536870912:s=vc;break;default:s=us}s=zf(s,Rf.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Rf(e,n){if(ro=-1,io=0,re&6)throw Error(r(327));var s=e.callbackNode;if(kr()&&e.callbackNode!==s)return null;var l=hs(e,e===Ue?Qe:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=so(e,l);else{n=l;var u=re;re|=2;var d=Af();(Ue!==e||Qe!==n)&&(en=null,xr=Te()+500,$n(e,n));do try{a_();break}catch(_){Df(e,_)}while(!0);bl(),Js.current=d,re=u,De!==null?n=0:(Ue=null,Qe=0,n=Oe)}if(n!==0){if(n===2&&(u=rl(e),u!==0&&(l=u,n=xa(e,u))),n===1)throw s=vi,$n(e,0),xn(e,l),dt(e,Te()),s;if(n===6)xn(e,l);else{if(u=e.current.alternate,!(l&30)&&!o_(u)&&(n=so(e,l),n===2&&(d=rl(e),d!==0&&(l=d,n=xa(e,d))),n===1))throw s=vi,$n(e,0),xn(e,l),dt(e,Te()),s;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Gn(e,ct,en);break;case 3:if(xn(e,l),(l&130023424)===l&&(n=Ca+500-Te(),10<n)){if(hs(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){st(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Pl(Gn.bind(null,e,ct,en),n);break}Gn(e,ct,en);break;case 4:if(xn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var h=31-Dt(l);d=1<<h,h=n[h],h>u&&(u=h),l&=~d}if(l=u,l=Te()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*s_(l/1960))-l,10<l){e.timeoutHandle=Pl(Gn.bind(null,e,ct,en),l);break}Gn(e,ct,en);break;case 5:Gn(e,ct,en);break;default:throw Error(r(329))}}}return dt(e,Te()),e.callbackNode===s?Rf.bind(null,e):null}function xa(e,n){var s=wi;return e.current.memoizedState.isDehydrated&&($n(e,n).flags|=256),e=so(e,n),e!==2&&(n=ct,ct=s,n!==null&&ka(n)),e}function ka(e){ct===null?ct=e:ct.push.apply(ct,e)}function o_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!At(d(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xn(e,n){for(n&=~wa,n&=~Zs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Dt(n),l=1<<s;e[s]=-1,n&=~l}}function Pf(e){if(re&6)throw Error(r(327));kr();var n=hs(e,0);if(!(n&1))return dt(e,Te()),null;var s=so(e,n);if(e.tag!==0&&s===2){var l=rl(e);l!==0&&(n=l,s=xa(e,l))}if(s===1)throw s=vi,$n(e,0),xn(e,n),dt(e,Te()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Gn(e,ct,en),dt(e,Te()),null}function Na(e,n){var s=re;re|=1;try{return e(n)}finally{re=s,re===0&&(xr=Te()+500,As&&_n())}}function Hn(e){En!==null&&En.tag===0&&!(re&6)&&kr();var n=re;re|=1;var s=Rt.transition,l=ue;try{if(Rt.transition=null,ue=1,e)return e()}finally{ue=l,Rt.transition=s,re=n,!(re&6)&&_n()}}function Ia(){Ct=Sr.current,ye(Sr)}function $n(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Fg(s)),De!==null)for(s=De.return;s!==null;){var l=s;switch(Fl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ps();break;case 3:wr(),ye(lt),ye(Ye),Kl();break;case 5:Ql(l);break;case 4:wr();break;case 13:ye(Se);break;case 19:ye(Se);break;case 10:Wl(l.type._context);break;case 22:case 23:Ia()}s=s.return}if(Ue=e,De=e=kn(e.current,null),Qe=Ct=n,Oe=0,vi=null,wa=Zs=Vn=0,ct=wi=null,Bn!==null){for(n=0;n<Bn.length;n++)if(s=Bn[n],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=u,l.next=h}s.pending=l}Bn=null}return e}function Df(e,n){do{var s=De;try{if(bl(),Ws.current=Gs,Vs){for(var l=xe.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Vs=!1}if(Wn=0,ze=Ae=xe=null,hi=!1,pi=0,va.current=null,s===null||s.return===null){Oe=1,vi=n,De=null;break}e:{var d=e,h=s.return,_=s,y=n;if(n=Qe,_.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var N=y,P=_,D=P.tag;if(!(P.mode&1)&&(D===0||D===11||D===15)){var R=P.alternate;R?(P.updateQueue=R.updateQueue,P.memoizedState=R.memoizedState,P.lanes=R.lanes):(P.updateQueue=null,P.memoizedState=null)}var F=tf(h);if(F!==null){F.flags&=-257,nf(F,h,_,d,n),F.mode&1&&ef(d,N,n),n=F,y=N;var B=n.updateQueue;if(B===null){var b=new Set;b.add(y),n.updateQueue=b}else B.add(y);break e}else{if(!(n&1)){ef(d,N,n),Ta();break e}y=Error(r(426))}}else if(Ee&&_.mode&1){var Re=tf(h);if(Re!==null){!(Re.flags&65536)&&(Re.flags|=256),nf(Re,h,_,d,n),Ul(Cr(y,_));break e}}d=y=Cr(y,_),Oe!==4&&(Oe=2),wi===null?wi=[d]:wi.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var E=Jd(d,y,n);kd(d,E);break e;case 1:_=y;var v=d.type,x=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cn===null||!Cn.has(x)))){d.flags|=65536,n&=-n,d.lanes|=n;var A=Zd(d,_,n);kd(d,A);break e}}d=d.return}while(d!==null)}Mf(s)}catch(W){n=W,De===s&&s!==null&&(De=s=s.return);continue}break}while(!0)}function Af(){var e=Js.current;return Js.current=Gs,e===null?Gs:e}function Ta(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ue===null||!(Vn&268435455)&&!(Zs&268435455)||xn(Ue,Qe)}function so(e,n){var s=re;re|=2;var l=Af();(Ue!==e||Qe!==n)&&(en=null,$n(e,n));do try{l_();break}catch(u){Df(e,u)}while(!0);if(bl(),re=s,Js.current=l,De!==null)throw Error(r(261));return Ue=null,Qe=0,Oe}function l_(){for(;De!==null;)Of(De)}function a_(){for(;De!==null&&!Om();)Of(De)}function Of(e){var n=jf(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,n===null?Mf(e):De=n,va.current=null}function Mf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=t_(s,n),s!==null){s.flags&=32767,De=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,De=null;return}}else if(s=e_(s,n,Ct),s!==null){De=s;return}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);Oe===0&&(Oe=5)}function Gn(e,n,s){var l=ue,u=Rt.transition;try{Rt.transition=null,ue=1,u_(e,n,s,l)}finally{Rt.transition=u,ue=l}return null}function u_(e,n,s,l){do kr();while(En!==null);if(re&6)throw Error(r(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Vm(e,d),e===Ue&&(De=Ue=null,Qe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||to||(to=!0,zf(us,function(){return kr(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=Rt.transition,Rt.transition=null;var h=ue;ue=1;var _=re;re|=4,va.current=null,r_(e,s),xf(s,e),Rg(Tl),gs=!!Il,Tl=Il=null,e.current=s,i_(s),Mm(),re=_,ue=h,Rt.transition=d}else e.current=s;if(to&&(to=!1,En=e,no=u),d=e.pendingLanes,d===0&&(Cn=null),jm(s.stateNode),dt(e,Te()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(eo)throw eo=!1,e=Ea,Ea=null,e;return no&1&&e.tag!==0&&kr(),d=e.pendingLanes,d&1?e===Sa?Ci++:(Ci=0,Sa=e):Ci=0,_n(),null}function kr(){if(En!==null){var e=Cc(no),n=Rt.transition,s=ue;try{if(Rt.transition=null,ue=16>e?16:e,En===null)var l=!1;else{if(e=En,En=null,no=0,re&6)throw Error(r(331));var u=re;for(re|=4,U=e.current;U!==null;){var d=U,h=d.child;if(U.flags&16){var _=d.deletions;if(_!==null){for(var y=0;y<_.length;y++){var N=_[y];for(U=N;U!==null;){var P=U;switch(P.tag){case 0:case 11:case 15:yi(8,P,d)}var D=P.child;if(D!==null)D.return=P,U=D;else for(;U!==null;){P=U;var R=P.sibling,F=P.return;if(vf(P),P===N){U=null;break}if(R!==null){R.return=F,U=R;break}U=F}}}var B=d.alternate;if(B!==null){var b=B.child;if(b!==null){B.child=null;do{var Re=b.sibling;b.sibling=null,b=Re}while(b!==null)}}U=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,U=h;else e:for(;U!==null;){if(d=U,d.flags&2048)switch(d.tag){case 0:case 11:case 15:yi(9,d,d.return)}var E=d.sibling;if(E!==null){E.return=d.return,U=E;break e}U=d.return}}var v=e.current;for(U=v;U!==null;){h=U;var x=h.child;if(h.subtreeFlags&2064&&x!==null)x.return=h,U=x;else e:for(h=v;U!==null;){if(_=U,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Xs(9,_)}}catch(W){ke(_,_.return,W)}if(_===h){U=null;break e}var A=_.sibling;if(A!==null){A.return=_.return,U=A;break e}U=_.return}}if(re=u,_n(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(cs,e)}catch{}l=!0}return l}finally{ue=s,Rt.transition=n}}return!1}function Lf(e,n,s){n=Cr(s,n),n=Jd(e,n,1),e=vn(e,n,1),n=st(),e!==null&&($r(e,1,n),dt(e,n))}function ke(e,n,s){if(e.tag===3)Lf(e,e,s);else for(;n!==null;){if(n.tag===3){Lf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cn===null||!Cn.has(l))){e=Cr(s,e),e=Zd(n,e,1),n=vn(n,e,1),e=st(),n!==null&&($r(n,1,e),dt(n,e));break}}n=n.return}}function c_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=st(),e.pingedLanes|=e.suspendedLanes&s,Ue===e&&(Qe&s)===s&&(Oe===4||Oe===3&&(Qe&130023424)===Qe&&500>Te()-Ca?$n(e,0):wa|=s),dt(e,n)}function Ff(e,n){n===0&&(e.mode&1?(n=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):n=1);var s=st();e=Xt(e,n),e!==null&&($r(e,n,s),dt(e,s))}function d_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ff(e,s)}function f_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ff(e,s)}var jf;jf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||lt.current)ut=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ut=!1,Zg(e,n,s);ut=!!(e.flags&131072)}else ut=!1,Ee&&n.flags&1048576&&md(n,Ms,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Ks(e,n),e=n.pendingProps;var u=hr(n,Ye.current);vr(n,s),u=Jl(null,n,l,e,u,s);var d=Zl();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,at(l)?(d=!0,Ds(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,$l(n),u.updater=Qs,n.stateNode=u,u._reactInternals=n,sa(n,l,e,s),n=ua(null,n,l,!0,d,s)):(n.tag=0,Ee&&d&&Ll(n),it(null,n,u,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Ks(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=p_(l),e=Mt(l,e),u){case 0:n=aa(null,n,l,e,s);break e;case 1:n=uf(null,n,l,e,s);break e;case 11:n=rf(null,n,l,e,s);break e;case 14:n=sf(null,n,l,Mt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mt(l,u),aa(e,n,l,u,s);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mt(l,u),uf(e,n,l,u,s);case 3:e:{if(cf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,u=d.element,xd(e,n),Bs(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=Cr(Error(r(423)),n),n=df(e,n,l,s,u);break e}else if(l!==u){u=Cr(Error(r(424)),n),n=df(e,n,l,s,u);break e}else for(wt=pn(n.stateNode.containerInfo.firstChild),vt=n,Ee=!0,Ot=null,s=Ed(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(gr(),l===u){n=Zt(e,n,s);break e}it(e,n,l,s)}n=n.child}return n;case 5:return Id(n),e===null&&zl(n),l=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Rl(l,u)?h=null:d!==null&&Rl(l,d)&&(n.flags|=32),af(e,n),it(e,n,h,s),n.child;case 6:return e===null&&zl(n),null;case 13:return ff(e,n,s);case 4:return Gl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=_r(n,null,l,s):it(e,n,l,s),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mt(l,u),rf(e,n,l,u,s);case 7:return it(e,n,n.pendingProps,s),n.child;case 8:return it(e,n,n.pendingProps.children,s),n.child;case 12:return it(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,he(js,l._currentValue),l._currentValue=h,d!==null)if(At(d.value,h)){if(d.children===u.children&&!lt.current){n=Zt(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){h=d.child;for(var y=_.firstContext;y!==null;){if(y.context===l){if(d.tag===1){y=Jt(-1,s&-s),y.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var P=N.pending;P===null?y.next=y:(y.next=P.next,P.next=y),N.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),Vl(d.return,s,n),_.lanes|=s;break}y=y.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),Vl(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}it(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,vr(n,s),u=It(u),l=l(u),n.flags|=1,it(e,n,l,s),n.child;case 14:return l=n.type,u=Mt(l,n.pendingProps),u=Mt(l.type,u),sf(e,n,l,u,s);case 15:return of(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mt(l,u),Ks(e,n),n.tag=1,at(l)?(e=!0,Ds(n)):e=!1,vr(n,s),Yd(n,l,u),sa(n,l,u,s),ua(null,n,l,!0,e,s);case 19:return pf(e,n,s);case 22:return lf(e,n,s)}throw Error(r(156,n.tag))};function zf(e,n){return gc(e,n)}function h_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,n,s,l){return new h_(e,n,s,l)}function Ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p_(e){if(typeof e=="function")return Ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nt)return 11;if(e===xt)return 14}return 2}function kn(e,n){var s=e.alternate;return s===null?(s=Pt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function oo(e,n,s,l,u,d){var h=2;if(l=e,typeof e=="function")Ra(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case X:return Qn(s.children,u,d,n);case ce:h=8,u|=8;break;case $e:return e=Pt(12,s,n,u|2),e.elementType=$e,e.lanes=d,e;case rt:return e=Pt(13,s,n,u),e.elementType=rt,e.lanes=d,e;case gt:return e=Pt(19,s,n,u),e.elementType=gt,e.lanes=d,e;case we:return lo(s,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ie:h=10;break e;case tt:h=9;break e;case nt:h=11;break e;case xt:h=14;break e;case Ke:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Pt(h,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function Qn(e,n,s,l){return e=Pt(7,e,l,n),e.lanes=s,e}function lo(e,n,s,l){return e=Pt(22,e,l,n),e.elementType=we,e.lanes=s,e.stateNode={isHidden:!1},e}function Pa(e,n,s){return e=Pt(6,e,null,n),e.lanes=s,e}function Da(e,n,s){return n=Pt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function m_(e,n,s,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Aa(e,n,s,l,u,d,h,_,y){return e=new m_(e,n,s,_,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Pt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(d),e}function g_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:je,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Uf(e){if(!e)return gn;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(at(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(at(s))return fd(e,s,n)}return n}function Bf(e,n,s,l,u,d,h,_,y){return e=Aa(s,l,!0,e,u,d,h,_,y),e.context=Uf(null),s=e.current,l=st(),u=Sn(s),d=Jt(l,u),d.callback=n??null,vn(s,d,u),e.current.lanes=u,$r(e,u,l),dt(e,l),e}function ao(e,n,s,l){var u=n.current,d=st(),h=Sn(u);return s=Uf(s),n.context===null?n.context=s:n.pendingContext=s,n=Jt(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=vn(u,n,h),e!==null&&(jt(e,u,h,d),Us(e,u,h)),h}function uo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Oa(e,n){bf(e,n),(e=e.alternate)&&bf(e,n)}var Wf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ma(e){this._internalRoot=e}co.prototype.render=Ma.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));ao(e,n,null,null)},co.prototype.unmount=Ma.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hn(function(){ao(null,e,null,null)}),n[Qt]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var n=xc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<dn.length&&n!==0&&n<dn[s].priority;s++);dn.splice(s,0,e),s===0&&Ic(e)}};function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vf(){}function __(e,n,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var N=uo(h);d.call(N)}}var h=Bf(n,l,e,0,null,!1,!1,"",Vf);return e._reactRootContainer=h,e[Qt]=h.current,si(e.nodeType===8?e.parentNode:e),Hn(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var _=l;l=function(){var N=uo(y);_.call(N)}}var y=Aa(e,0,!1,null,null,!1,!1,"",Vf);return e._reactRootContainer=y,e[Qt]=y.current,si(e.nodeType===8?e.parentNode:e),Hn(function(){ao(n,y,s,l)}),y}function ho(e,n,s,l,u){var d=s._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var _=u;u=function(){var y=uo(h);_.call(y)}}ao(n,h,e,u)}else h=__(s,n,e,u,l);return uo(h)}Ec=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Hr(n.pendingLanes);s!==0&&(sl(n,s|1),dt(n,Te()),!(re&6)&&(xr=Te()+500,_n()))}break;case 13:Hn(function(){var l=Xt(e,1);if(l!==null){var u=st();jt(l,e,1,u)}}),Oa(e,1)}},ol=function(e){if(e.tag===13){var n=Xt(e,134217728);if(n!==null){var s=st();jt(n,e,134217728,s)}Oa(e,134217728)}},Sc=function(e){if(e.tag===13){var n=Sn(e),s=Xt(e,n);if(s!==null){var l=st();jt(s,e,n,l)}Oa(e,n)}},xc=function(){return ue},kc=function(e,n){var s=ue;try{return ue=e,n()}finally{ue=s}},Jo=function(e,n,s){switch(n){case"input":if(Ho(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=Rs(l);if(!u)throw Error(r(90));Ku(l),Ho(l,u)}}}break;case"textarea":ec(e,s);break;case"select":n=s.value,n!=null&&tr(e,!!s.multiple,n,!1)}},uc=Na,cc=Hn;var y_={usingClientEntryPoint:!1,Events:[ai,dr,Rs,lc,ac,Na]},Ei={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v_={bundleType:Ei.bundleType,version:Ei.version,rendererPackageName:Ei.rendererPackageName,rendererConfig:Ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ei.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{cs=po.inject(v_),bt=po}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y_,ft.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!La(n))throw Error(r(200));return g_(e,n,null,s)},ft.createRoot=function(e,n){if(!La(e))throw Error(r(299));var s=!1,l="",u=Wf;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Aa(e,1,!1,null,null,s,!1,l,u),e[Qt]=n.current,si(e.nodeType===8?e.parentNode:e),new Ma(n)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=pc(n),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return Hn(e)},ft.hydrate=function(e,n,s){if(!fo(n))throw Error(r(200));return ho(null,e,n,!0,s)},ft.hydrateRoot=function(e,n,s){if(!La(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",h=Wf;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=Bf(n,null,e,1,s??null,u,!1,d,h),e[Qt]=n.current,si(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new co(n)},ft.render=function(e,n,s){if(!fo(n))throw Error(r(200));return ho(null,e,n,!1,s)},ft.unmountComponentAtNode=function(e){if(!fo(e))throw Error(r(40));return e._reactRootContainer?(Hn(function(){ho(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1},ft.unstable_batchedUpdates=Na,ft.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!fo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ho(e,n,s,!1,l)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var Xf;function T_(){if(Xf)return za.exports;Xf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),za.exports=I_(),za.exports}var Jf;function R_(){if(Jf)return mo;Jf=1;var i=T_();return mo.createRoot=i.createRoot,mo.hydrateRoot=i.hydrateRoot,mo}var P_=R_();const D_=Hh(P_),A_=pe.createContext({theme:"system",setTheme:()=>null});function O_({children:i,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[o,a]=pe.useState(()=>localStorage.getItem(r)||t);pe.useEffect(()=>{const f=window.document.documentElement;if(f.classList.remove("light","dark"),o==="system"){const p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";f.classList.add(p);return}f.classList.add(o)},[o]);const c={theme:o,setTheme:f=>{localStorage.setItem(r,f),a(f)}};return I.jsx(A_.Provider,{value:c,children:i})}const $h=pe.forwardRef(({className:i,...t},r)=>I.jsx("div",{ref:r,className:`rounded-lg border bg-card text-card-foreground shadow-sm ${i}`,...t}));$h.displayName="Card";const M_=pe.forwardRef(({className:i,...t},r)=>I.jsx("div",{ref:r,className:`flex flex-col space-y-1.5 p-6 ${i}`,...t}));M_.displayName="CardHeader";const L_=pe.forwardRef(({className:i,...t},r)=>I.jsx("h3",{ref:r,className:`text-2xl font-semibold leading-none tracking-tight ${i}`,...t}));L_.displayName="CardTitle";const Gh=pe.forwardRef(({className:i,...t},r)=>I.jsx("div",{ref:r,className:`p-6 pt-0 ${i}`,...t}));Gh.displayName="CardContent";/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qh=(...i)=>i.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=pe.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:c,iconNode:f,...p},m)=>pe.createElement("svg",{ref:m,...j_,width:t,height:t,stroke:i,strokeWidth:o?Number(r)*24/Number(t):r,className:Qh("lucide",a),...p},[...f.map(([g,S])=>pe.createElement(g,S)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=(i,t)=>{const r=pe.forwardRef(({className:o,...a},c)=>pe.createElement(z_,{ref:c,iconNode:t,className:Qh(`lucide-${F_(i)}`,o),...a}));return r.displayName=`${i}`,r};/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],B_=St("Activity",U_);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],W_=St("Box",b_);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],H_=St("Building",V_);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],G_=St("Calendar",$_);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],q_=St("ChevronDown",Q_);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Y_=St("ChevronUp",K_);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qh=St("CircleAlert",X_);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Z_=St("CircleCheck",J_);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ty=St("Database",ey);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ry=St("MapPin",ny);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ja=St("Package",iy);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],oy=St("Search",sy);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ay=St("Truck",ly);var Zf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(i,t){if(!i)throw Lr(t)},Lr=function(i){return new Error("Firebase Database ("+Kh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},uy=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],f=i[r++],p=i[r++],m=((a&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return t.join("")},yu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,p=f?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let k=(p&15)<<2|g>>6,M=g&63;m||(M=64,f||(k=64)),o.push(r[S],r[w],r[k],r[M])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Yh(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):uy(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],p=a<i.length?r[i.charAt(a)]:0;++a;const g=a<i.length?r[i.charAt(a)]:64;++a;const w=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||p==null||g==null||w==null)throw new cy;const k=c<<2|p>>4;if(o.push(k),g!==64){const M=p<<4&240|g>>2;if(o.push(M),w!==64){const j=g<<6&192|w;o.push(j)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class cy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xh=function(i){const t=Yh(i);return yu.encodeByteArray(t,!0)},vo=function(i){return Xh(i).replace(/\./g,"")},Za=function(i){try{return yu.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(i){return Jh(void 0,i)}function Jh(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!fy(r)||(i[r]=Jh(i[r],t[r]));return i}function fy(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=()=>hy().__FIREBASE_DEFAULTS__,my=()=>{if(typeof process>"u"||typeof Zf>"u")return;const i=Zf.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},gy=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Za(i[1]);return t&&JSON.parse(t)},Zh=()=>{try{return py()||my()||gy()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_y=i=>{var t,r;return(r=(t=Zh())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},yy=i=>{const t=_y(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},ep=()=>{var i;return(i=Zh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[vo(JSON.stringify(r)),vo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wy())}function Cy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ey(){return Kh.NODE_ADMIN===!0}function Sy(){try{return typeof indexedDB=="object"}catch{return!1}}function xy(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="FirebaseError";class Ki extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=ky,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,np.prototype.create)}}class np{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],f=c?Ny(c,o):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Ki(a,p,o)}}function Ny(i,t){return i.replace(Iy,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const Iy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i){return JSON.parse(i)}function Me(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=function(i){let t={},r={},o={},a="";try{const c=i.split(".");t=zi(Za(c[0])||""),r=zi(Za(c[1])||""),a=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},Ty=function(i){const t=rp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Ry=function(i){const t=rp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Dr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function eh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function wo(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function eu(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],f=t[a];if(th(c)&&th(f)){if(!eu(c,f))return!1}else if(c!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function th(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const k=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(k<<1|k>>>31)&4294967295}let a=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,S;for(let w=0;w<80;w++){w<40?w<20?(g=p^c&(f^p),S=1518500249):(g=c^f^p,S=1859775393):w<60?(g=c&f|p&(c|f),S=2400959708):(g=c^f^p,S=3395469782);const k=(a<<5|a>>>27)+g+m+S+o[w]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=a,a=k}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const c=this.buf_;let f=this.inbuf_;for(;a<r;){if(f===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(c[f]=t.charCodeAt(a),++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}else for(;a<r;)if(c[f]=t[a],++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[a]>>c&255,++o;return t}}function ip(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const c=a-55296;o++,O(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;a=65536+(c<<10)+f}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Lo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(i){return i&&i._delegate?i._delegate:i}class Ui{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new vu;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ly(t))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=qn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qn){return this.instances.has(t)}getOptions(t=qn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&t(f,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:My(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=qn){return this.component?this.component.multipleInstances?t:qn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function My(i){return i===qn?void 0:i}function Ly(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Oy(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(me||(me={}));const jy={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},zy=me.INFO,Uy={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},By=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=Uy[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sp{constructor(t){this.name=t,this._logLevel=zy,this._logHandler=By,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}}const by=(i,t)=>t.some(r=>i instanceof r);let nh,rh;function Wy(){return nh||(nh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vy(){return rh||(rh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const op=new WeakMap,tu=new WeakMap,lp=new WeakMap,ba=new WeakMap,wu=new WeakMap;function Hy(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(In(i.result)),a()},f=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&op.set(r,i)}).catch(()=>{}),wu.set(t,i),t}function $y(i){if(tu.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),a()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});tu.set(i,t)}let nu={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return tu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||lp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return In(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Gy(i){nu=i(nu)}function Qy(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Wa(this),t,...r);return lp.set(o,t.sort?t.sort():[t]),In(o)}:Vy().includes(i)?function(...t){return i.apply(Wa(this),t),In(op.get(this))}:function(...t){return In(i.apply(Wa(this),t))}}function qy(i){return typeof i=="function"?Qy(i):(i instanceof IDBTransaction&&$y(i),by(i,Wy())?new Proxy(i,nu):i)}function In(i){if(i instanceof IDBRequest)return Hy(i);if(ba.has(i))return ba.get(i);const t=qy(i);return t!==i&&(ba.set(i,t),wu.set(t,i)),t}const Wa=i=>wu.get(i);function Ky(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const f=indexedDB.open(i,t),p=In(f);return o&&f.addEventListener("upgradeneeded",m=>{o(In(f.result),m.oldVersion,m.newVersion,In(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Yy=["get","getKey","getAll","getAllKeys","count"],Xy=["put","add","delete","clear"],Va=new Map;function ih(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Va.get(t))return Va.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Xy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Yy.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,a?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(p.shift())),(await Promise.all([g[r](...p),a&&m.done]))[0]};return Va.set(t,c),c}Gy(i=>({...i,get:(t,r,o)=>ih(t,r)||i.get(t,r,o),has:(t,r)=>!!ih(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Zy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Zy(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ru="@firebase/app",sh="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new sp("@firebase/app"),ev="@firebase/app-compat",tv="@firebase/analytics-compat",nv="@firebase/analytics",rv="@firebase/app-check-compat",iv="@firebase/app-check",sv="@firebase/auth",ov="@firebase/auth-compat",lv="@firebase/database",av="@firebase/data-connect",uv="@firebase/database-compat",cv="@firebase/functions",dv="@firebase/functions-compat",fv="@firebase/installations",hv="@firebase/installations-compat",pv="@firebase/messaging",mv="@firebase/messaging-compat",gv="@firebase/performance",_v="@firebase/performance-compat",yv="@firebase/remote-config",vv="@firebase/remote-config-compat",wv="@firebase/storage",Cv="@firebase/storage-compat",Ev="@firebase/firestore",Sv="@firebase/vertexai",xv="@firebase/firestore-compat",kv="firebase",Nv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]",Iv={[ru]:"fire-core",[ev]:"fire-core-compat",[nv]:"fire-analytics",[tv]:"fire-analytics-compat",[iv]:"fire-app-check",[rv]:"fire-app-check-compat",[sv]:"fire-auth",[ov]:"fire-auth-compat",[lv]:"fire-rtdb",[av]:"fire-data-connect",[uv]:"fire-rtdb-compat",[cv]:"fire-fn",[dv]:"fire-fn-compat",[fv]:"fire-iid",[hv]:"fire-iid-compat",[pv]:"fire-fcm",[mv]:"fire-fcm-compat",[gv]:"fire-perf",[_v]:"fire-perf-compat",[yv]:"fire-rc",[vv]:"fire-rc-compat",[wv]:"fire-gcs",[Cv]:"fire-gcs-compat",[Ev]:"fire-fst",[xv]:"fire-fst-compat",[Sv]:"fire-vertex","fire-js":"fire-js",[kv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new Map,Tv=new Map,su=new Map;function oh(i,t){try{i.container.addComponent(t)}catch(r){rn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Eo(i){const t=i.name;if(su.has(t))return rn.debug(`There were multiple attempts to register component ${t}.`),!1;su.set(t,i);for(const r of Co.values())oh(r,i);for(const r of Tv.values())oh(r,i);return!0}function Rv(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tn=new np("app","Firebase",Pv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=Nv;function ap(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:iu,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw Tn.create("bad-app-name",{appName:String(a)});if(r||(r=ep()),!r)throw Tn.create("no-options");const c=Co.get(a);if(c){if(eu(r,c.options)&&eu(o,c.config))return c;throw Tn.create("duplicate-app",{appName:a})}const f=new Fy(a);for(const m of su.values())f.addComponent(m);const p=new Dv(r,o,f);return Co.set(a,p),p}function Ov(i=iu){const t=Co.get(i);if(!t&&i===iu&&ep())return ap();if(!t)throw Tn.create("no-app",{appName:i});return t}function Tr(i,t,r){var o;let a=(o=Iv[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${a}" with version "${t}":`];c&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rn.warn(p.join(" "));return}Eo(new Ui(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="firebase-heartbeat-database",Lv=1,Bi="firebase-heartbeat-store";let Ha=null;function up(){return Ha||(Ha=Ky(Mv,Lv,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Bi)}catch(r){console.warn(r)}}}}).catch(i=>{throw Tn.create("idb-open",{originalErrorMessage:i.message})})),Ha}async function Fv(i){try{const r=(await up()).transaction(Bi),o=await r.objectStore(Bi).get(cp(i));return await r.done,o}catch(t){if(t instanceof Ki)rn.warn(t.message);else{const r=Tn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});rn.warn(r.message)}}}async function lh(i,t){try{const o=(await up()).transaction(Bi,"readwrite");await o.objectStore(Bi).put(t,cp(i)),await o.done}catch(r){if(r instanceof Ki)rn.warn(r.message);else{const o=Tn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});rn.warn(o.message)}}}function cp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=1024,zv=30*24*60*60*1e3;class Uv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new bv(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=ah();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=zv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){rn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ah(),{heartbeatsToSend:o,unsentEntries:a}=Bv(this._heartbeatsCache.heartbeats),c=vo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return rn.warn(r),""}}}function ah(){return new Date().toISOString().substring(0,10)}function Bv(i,t=jv){const r=[];let o=i.slice();for(const a of i){const c=r.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),uh(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),uh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class bv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sy()?xy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Fv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return lh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return lh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function uh(i){return vo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(i){Eo(new Ui("platform-logger",t=>new Jy(t),"PRIVATE")),Eo(new Ui("heartbeat",t=>new Uv(t),"PRIVATE")),Tr(ru,sh,i),Tr(ru,sh,"esm2017"),Tr("fire-js","")}Wv("");var Vv="firebase",Hv="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(Vv,Hv,"app");var ch={};const dh="@firebase/database",fh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp="";function $v(i){dp=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Me(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:zi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return on(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Gv(t)}}catch{}return new Qv},Yn=fp("localStorage"),qv=fp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new sp("@firebase/database"),Kv=function(){let i=1;return function(){return i++}}(),hp=function(i){const t=Ay(i),r=new Dy;r.update(t);const o=r.digest();return yu.encodeByteArray(o)},Xi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Xi.apply(null,o):typeof o=="object"?t+=Me(o):t+=o,t+=" "}return t};let Oi=null,hh=!0;const Yv=function(i,t){O(!0,"Can't turn on custom loggers persistently."),Rr.logLevel=me.VERBOSE,Oi=Rr.log.bind(Rr)},et=function(...i){if(hh===!0&&(hh=!1,Oi===null&&qv.get("logging_enabled")===!0&&Yv()),Oi){const t=Xi.apply(null,i);Oi(t)}},Ji=function(i){return function(...t){et(i,...t)}},ou=function(...i){const t="FIREBASE INTERNAL ERROR: "+Xi(...i);Rr.error(t)},sn=function(...i){const t=`FIREBASE FATAL ERROR: ${Xi(...i)}`;throw Rr.error(t),new Error(t)},Et=function(...i){const t="FIREBASE WARNING: "+Xi(...i);Rr.warn(t)},Xv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},pp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Jv=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ar="[MIN_NAME]",Xn="[MAX_NAME]",Fr=function(i,t){if(i===t)return 0;if(i===Ar||t===Xn)return-1;if(t===Ar||i===Xn)return 1;{const r=ph(i),o=ph(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},Zv=function(i,t){return i===t?0:i<t?-1:1},xi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Me(t))},Cu=function(i){if(typeof i!="object"||i===null)return Me(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Me(t[o]),r+=":",r+=Cu(i[t[o]]);return r+="}",r},mp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function pt(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const gp=function(i){O(!pp(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,c,f,p,m;i===0?(c=0,f=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(a?1:0),g.reverse();const S=g.join("");let w="";for(m=0;m<64;m+=8){let k=parseInt(S.substr(m,8),2).toString(16);k.length===1&&(k="0"+k),w=w+k}return w.toLowerCase()},ew=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nw(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const rw=new RegExp("^-?(0*)\\d{1,10}$"),iw=-2147483648,sw=2147483647,ph=function(i){if(rw.test(i)){const t=Number(i);if(t>=iw&&t<=sw)return t}return null},Zi=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw Et("Exception was thrown by user callback.",r),t},Math.floor(0))}},ow=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mi=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(t)}}class yo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}yo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="5",_p="v",yp="s",vp="r",wp="f",Cp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ep="ls",Sp="p",lu="ac",xp="websocket",kp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,r,o,a,c=!1,f="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Yn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function uw(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Ip(i,t,r){O(typeof t=="string","typeof type must == string"),O(typeof r=="object","typeof params must == object");let o;if(t===xp)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===kp)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);uw(i)&&(r.ns=i.namespace);const a=[];return pt(r,(c,f)=>{a.push(c+"="+f)}),o+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.counters_={}}incrementCounter(t,r=1){on(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return dy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a={},Ga={};function Su(i){const t=i.toString();return $a[t]||($a[t]=new cw),$a[t]}function dw(i,t){const r=i.toString();return Ga[r]||(Ga[r]=t()),Ga[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&Zi(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="start",hw="close",pw="pLPCommand",mw="pRTLPCB",Tp="id",Rp="pw",Pp="ser",gw="cb",_w="seg",yw="ts",vw="d",ww="dframe",Dp=1870,Ap=30,Cw=Dp-Ap,Ew=25e3,Sw=3e4;class Nr{constructor(t,r,o,a,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ji(t),this.stats_=Su(r),this.urlFn=m=>(this.appCheckToken&&(m[lu]=this.appCheckToken),Ip(r,kp,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new fw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Sw)),Jv(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xu((...c)=>{const[f,p,m,g,S]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===mh)this.id=p,this.password=m;else if(f===hw)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[mh]="t",o[Pp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[gw]=this.scriptTagHolder.uniqueCallbackIdentifier),o[_p]=Eu,this.transportSessionId&&(o[yp]=this.transportSessionId),this.lastSessionId&&(o[Ep]=this.lastSessionId),this.applicationId&&(o[Sp]=this.applicationId),this.appCheckToken&&(o[lu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Cp.test(location.hostname)&&(o[vp]=wp);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nr.forceAllow_=!0}static forceDisallow(){Nr.forceDisallow_=!0}static isAvailable(){return Nr.forceAllow_?!0:!Nr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ew()&&!tw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Me(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Xh(r),a=mp(o,Cw);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[ww]="t",o[Tp]=t,o[Rp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Me(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class xu{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Kv(),window[pw+this.uniqueCallbackIdentifier]=t,window[mw+this.uniqueCallbackIdentifier]=r,this.myIFrame=xu.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){et("frame writing exception"),p.stack&&et(p.stack),et(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||et("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Tp]=this.myID,t[Rp]=this.myPW,t[Pp]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ap+o.length<=Dp;){const f=this.pendingSegs.shift();o=o+"&"+_w+a+"="+f.seg+"&"+yw+a+"="+f.ts+"&"+vw+a+"="+f.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(Ew)),c=()=>{clearTimeout(a),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{et("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=16384,kw=45e3;let So=null;typeof MozWebSocket<"u"?So=MozWebSocket:typeof WebSocket<"u"&&(So=WebSocket);class Gt{constructor(t,r,o,a,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ji(this.connId),this.stats_=Su(r),this.connURL=Gt.connectionURL_(r,f,p,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,c){const f={};return f[_p]=Eu,typeof location<"u"&&location.hostname&&Cp.test(location.hostname)&&(f[vp]=wp),r&&(f[yp]=r),o&&(f[Ep]=o),a&&(f[lu]=a),c&&(f[Sp]=c),Ip(t,xp,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yn.set("previous_websocket_failure",!0);try{let o;Ey(),this.mySock=new So(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Gt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&So!==null&&!Gt.forceDisallow_}static previouslyFailed(){return Yn.isInMemoryStorage||Yn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=zi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(O(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Me(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=mp(r,xw);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kw))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gt.responsesRequiredToBeHealthy=2;Gt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{static get ALL_TRANSPORTS(){return[Nr,Gt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Gt.isAvailable();let o=r&&!Gt.previouslyFailed();if(t.webSocketOnly&&(r||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Gt];else{const a=this.transports_=[];for(const c of bi.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);bi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=6e4,Iw=5e3,Tw=10*1024,Rw=100*1024,Qa="t",gh="d",Pw="s",_h="r",Dw="e",yh="o",vh="a",wh="n",Ch="p",Aw="h";class Ow{constructor(t,r,o,a,c,f,p,m,g,S){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ji("c:"+this.id+":"),this.transportManager_=new bi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Mi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Rw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Tw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Qa in t){const r=t[Qa];r===vh?this.upgradeIfSecondaryHealthy_():r===_h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===yh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=xi("t",t),o=xi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ch,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=xi("t",t),o=xi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=xi(Qa,t);if(gh in t){const o=t[gh];if(r===Aw){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===wh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===Pw?this.onConnectionShutdown_(o):r===_h?this.onReset_(o):r===Dw?ou("Server Error: "+o):r===yh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ou("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Eu!==o&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Mi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Nw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Iw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ch,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t){this.allowedEvents_=t,this.listeners_={},O(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context)){a.splice(c,1);return}}validateEventType_(t){O(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Mp{static getInstance(){return new xo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!tp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return O(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=32,Sh=768;class de{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function le(){return new de("")}function ne(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Dn(i){return i.pieces_.length-i.pieceNum_}function ge(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new de(i.pieces_,t)}function Lp(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Mw(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Fp(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function jp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new de(t,0)}function Le(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof de)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new de(r,0)}function te(i){return i.pieceNum_>=i.pieces_.length}function ot(i,t){const r=ne(i),o=ne(t);if(r===null)return t;if(r===o)return ot(ge(i),ge(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function zp(i,t){if(Dn(i)!==Dn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function zt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Dn(i)>Dn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class Lw{constructor(t,r){this.errorPrefix_=r,this.parts_=Fp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Lo(this.parts_[o]);Up(this)}}function Fw(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Lo(t),Up(i)}function jw(i){const t=i.parts_.pop();i.byteLength_-=Lo(t),i.parts_.length>0&&(i.byteLength_-=1)}function Up(i){if(i.byteLength_>Sh)throw new Error(i.errorPrefix_+"has a key path longer than "+Sh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Eh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Eh+") or object contains a cycle "+Kn(i))}function Kn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Mp{static getInstance(){return new ku}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return O(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=1e3,zw=60*5*1e3,xh=30*1e3,Uw=1.3,Bw=3e4,bw="server_kill",kh=3;class nn extends Op{constructor(t,r,o,a,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=nn.nextPersistentConnectionId_++,this.log_=Ji("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ki,this.maxReconnectDelay_=zw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ku.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&xo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,c={r:a,a:t,b:r};this.log_(Me(c)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new vu,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,a){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,g=p.s;nn.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&on(t,"w")){const o=Dr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Ry(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=Ty(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const c=a.s,f=a.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";a&&(c.q=o,c.t=a),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Me(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):ou("Unrecognized action received from server: "+Me(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ki,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ki,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Bw&&(this.reconnectDelay_=ki),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Uw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+nn.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},g=function(w){O(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:g};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,k]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);f?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=k&&k.token,p=new Ow(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,M=>{Et(M+" ("+this.repoInfo_.toString()+")"),this.interrupt(bw)},c))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&Et(w),m())}}}interrupt(t){et("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){et("Resuming connection for reason: "+t),delete this.interruptReasons_[t],eh(this.interruptReasons_)&&(this.reconnectDelay_=ki,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>Cu(c)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new de(t).toString();let a;if(this.listens.has(o)){const c=this.listens.get(o);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){et("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kh&&(this.reconnectDelay_=xh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){et("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+dp.replace(/\./g,"-")]=1,tp()?t["framework.cordova"]=1:Cy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=xo.getInstance().currentlyOnline();return eh(this.interruptReasons_)&&t}}nn.nextPersistentConnectionId_=0;nn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new ee(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new ee(Ar,t),a=new ee(Ar,r);return this.compare(o,a)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class Bp extends Fo{static get __EMPTY_NODE(){return go}static set __EMPTY_NODE(t){go=t}compare(t,r){return Fr(t.name,r.name)}isDefinedOn(t){throw Lr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Xn,go)}makePost(t,r){return O(typeof t=="string","KeyIndex indexValue must always be a string."),new ee(t,go)}toString(){return".key"}}const Pr=new Bp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,a&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class We{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??We.RED,this.left=a??ht.EMPTY_NODE,this.right=c??ht.EMPTY_NODE}copy(t,r,o,a,c){return new We(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return c<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ht.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class Ww{copy(t,r,o,a,c){return this}insert(t,r,o){return new We(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ht{constructor(t,r=ht.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ht(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(t){return new ht(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,We.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _o(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new _o(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new _o(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new _o(this.root_,null,this.comparator_,!0,t)}}ht.EMPTY_NODE=new Ww;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(i,t){return Fr(i.name,t.name)}function Nu(i,t){return Fr(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au;function Hw(i){au=i}const bp=function(i){return typeof i=="number"?"number:"+gp(i):"string:"+i},Wp=function(i){if(i.isLeafNode()){const t=i.val();O(typeof t=="string"||typeof t=="number"||typeof t=="object"&&on(t,".sv"),"Priority must be a string or number.")}else O(i===au||i.isEmpty(),"priority of unexpected type.");O(i===au||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh;class be{static set __childrenNodeConstructor(t){Nh=t}static get __childrenNodeConstructor(){return Nh}constructor(t,r=be.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new be(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:be.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return te(t)?this:ne(t)===".priority"?this.priorityNode_:be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=ne(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(O(o!==".priority"||Dn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,be.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+bp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=gp(this.value_):t+=this.value_,this.lazyHash_=hp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===be.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof be.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=be.VALUE_TYPE_ORDER.indexOf(r),c=be.VALUE_TYPE_ORDER.indexOf(o);return O(a>=0,"Unknown leaf type: "+r),O(c>=0,"Unknown leaf type: "+o),a===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp,Hp;function $w(i){Vp=i}function Gw(i){Hp=i}class Qw extends Fo{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return c===0?Fr(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Xn,new be("[PRIORITY-POST]",Hp))}makePost(t,r){const o=Vp(t);return new ee(r,new be("[PRIORITY-POST]",o))}toString(){return".priority"}}const Ne=new Qw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=Math.log(2);class Kw{constructor(t){const r=c=>parseInt(Math.log(c)/qw,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ko=function(i,t,r,o){i.sort(t);const a=function(m,g){const S=g-m;let w,k;if(S===0)return null;if(S===1)return w=i[m],k=r?r(w):w,new We(k,w.node,We.BLACK,null,null);{const M=parseInt(S/2,10)+m,j=a(m,M),V=a(M+1,g);return w=i[M],k=r?r(w):w,new We(k,w.node,We.BLACK,j,V)}},c=function(m){let g=null,S=null,w=i.length;const k=function(j,V){const q=w-j,Fe=w;w-=j;const Ve=a(q+1,Fe),He=i[q],Pe=r?r(He):He;M(new We(Pe,He.node,V,null,Ve))},M=function(j){g?(g.left=j,g=j):(S=j,g=j)};for(let j=0;j<m.count;++j){const V=m.nextBitIsOne(),q=Math.pow(2,m.count-(j+1));V?k(q,We.BLACK):(k(q,We.BLACK),k(q,We.RED))}return S},f=new Kw(i.length),p=c(f);return new ht(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;const Ni={};class tn{static get Default(){return O(Ne,"ChildrenNode.ts has not been loaded"),qa=qa||new tn({".priority":Ni},{".priority":Ne}),qa}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Dr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ht?r:null}hasIndex(t){return on(this.indexSet_,t.toString())}addIndex(t,r){O(t!==Pr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(ee.Wrap);let f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;a?p=ko(o,t.getCompare()):p=Ni;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const S=Object.assign({},this.indexes_);return S[m]=p,new tn(S,g)}addToIndexes(t,r){const o=wo(this.indexes_,(a,c)=>{const f=Dr(this.indexSet_,c);if(O(f,"Missing index implementation for "+c),a===Ni)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(ee.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),ko(p,f.getCompare())}else return Ni;else{const p=r.get(t.name);let m=a;return p&&(m=m.remove(new ee(t.name,p))),m.insert(t,t.node)}});return new tn(o,this.indexSet_)}removeFromIndexes(t,r){const o=wo(this.indexes_,a=>{if(a===Ni)return a;{const c=r.get(t.name);return c?a.remove(new ee(t.name,c)):a}});return new tn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ii;class Q{static get EMPTY_NODE(){return Ii||(Ii=new Q(new ht(Nu),null,tn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Wp(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ii}updatePriority(t){return this.children_.isEmpty()?this:new Q(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Ii:r}}getChild(t){const r=ne(t);return r===null?this:this.getImmediateChild(r).getChild(ge(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(O(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new ee(t,r);let a,c;r.isEmpty()?(a=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=a.isEmpty()?Ii:this.priorityNode_;return new Q(a,f,c)}}updateChild(t,r){const o=ne(t);if(o===null)return r;{O(ne(t)!==".priority"||Dn(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(ge(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,c=!0;if(this.forEachChild(Ne,(f,p)=>{r[f]=p.val(t),o++,c&&Q.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):c=!1}),!t&&c&&a<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+bp(this.getPriority().val())+":"),this.forEachChild(Ne,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":hp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const c=a.getPredecessorKey(new ee(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ee(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ee(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,ee.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,ee.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)>0;)a.getNext(),c=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===es?-1:0}withIndex(t){if(t===Pr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new Q(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Pr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Ne),a=r.getIterator(Ne);let c=o.getNext(),f=a.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=a.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Pr?null:this.indexMap_.get(t.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Yw extends Q{constructor(){super(new ht(Nu),Q.EMPTY_NODE,tn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Q.EMPTY_NODE}isEmpty(){return!1}}const es=new Yw;Object.defineProperties(ee,{MIN:{value:new ee(Ar,Q.EMPTY_NODE)},MAX:{value:new ee(Xn,es)}});Bp.__EMPTY_NODE=Q.EMPTY_NODE;be.__childrenNodeConstructor=Q;Hw(es);Gw(es);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=!0;function qe(i,t=null){if(i===null)return Q.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),O(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new be(r,qe(t))}if(!(i instanceof Array)&&Xw){const r=[];let o=!1;if(pt(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=qe(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new ee(f,m)))}}),r.length===0)return Q.EMPTY_NODE;const c=ko(r,Vw,f=>f.name,Nu);if(o){const f=ko(r,Ne.getCompare());return new Q(c,qe(t),new tn({".priority":f},{".priority":Ne}))}else return new Q(c,qe(t),tn.Default)}else{let r=Q.EMPTY_NODE;return pt(i,(o,a)=>{if(on(i,o)&&o.substring(0,1)!=="."){const c=qe(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(qe(t))}}$w(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw extends Fo{constructor(t){super(),this.indexPath_=t,O(!te(t)&&ne(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),c=o.compareTo(a);return c===0?Fr(t.name,r.name):c}makePost(t,r){const o=qe(t),a=Q.EMPTY_NODE.updateChild(this.indexPath_,o);return new ee(r,a)}maxPost(){const t=Q.EMPTY_NODE.updateChild(this.indexPath_,es);return new ee(Xn,t)}toString(){return Fp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Fo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Fr(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(t,r){const o=qe(t);return new ee(r,o)}toString(){return".value"}}const e0=new Zw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i){return{type:"value",snapshotNode:i}}function Or(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Wi(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Vi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function t0(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t){this.index_=t}updateChild(t,r,o,a,c,f){O(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(a).equals(o.getChild(a))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(Wi(r,p)):O(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Or(r,o)):f.trackChildChange(Vi(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Ne,(a,c)=>{r.hasChild(a)||o.trackChildChange(Wi(a,c))}),r.isLeafNode()||r.forEachChild(Ne,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||o.trackChildChange(Vi(a,c,f))}else o.trackChildChange(Or(a,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?Q.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.indexedFilter_=new Iu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Hi.getStartPost_(t),this.endPost_=Hi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,c,f){return this.matches(new ee(r,o))||(o=Q.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=Q.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(Q.EMPTY_NODE);const c=this;return r.forEachChild(Ne,(f,p)=>{c.matches(new ee(f,p))||(a=a.updateImmediateChild(f,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Hi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,c,f){return this.rangedFilter_.matches(new ee(r,o))||(o=Q.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=Q.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))a=a.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(Q.EMPTY_NODE);let c;this.reverse_?c=a.getReverseIterator(this.index_):c=a.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:a=a.updateImmediateChild(p.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,c){let f;if(this.reverse_){const w=this.index_.getCompare();f=(k,M)=>w(M,k)}else f=this.index_.getCompare();const p=t;O(p.numChildren()===this.limit_,"");const m=new ee(r,o),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),S=this.rangedFilter_.matches(m);if(p.hasChild(r)){const w=p.getImmediateChild(r);let k=a.getChildAfterChild(this.index_,g,this.reverse_);for(;k!=null&&(k.name===r||p.hasChild(k.name));)k=a.getChildAfterChild(this.index_,k,this.reverse_);const M=k==null?1:f(k,m);if(S&&!o.isEmpty()&&M>=0)return c!=null&&c.trackChildChange(Vi(r,o,w)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange(Wi(r,w));const V=p.updateImmediateChild(r,Q.EMPTY_NODE);return k!=null&&this.rangedFilter_.matches(k)?(c!=null&&c.trackChildChange(Or(k.name,k.node)),V.updateImmediateChild(k.name,k.node)):V}}else return o.isEmpty()?t:S&&f(g,m)>=0?(c!=null&&(c.trackChildChange(Wi(g.name,g.node)),c.trackChildChange(Or(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(g.name,Q.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ar}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const t=new Tu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function r0(i){return i.loadsAllData()?new Iu(i.getIndex()):i.hasLimit()?new n0(i):new Hi(i)}function Ih(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Ne?r="$priority":i.index_===e0?r="$value":i.index_===Pr?r="$key":(O(i.index_ instanceof Jw,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Me(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Me(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Me(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Me(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Me(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Th(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Ne&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Op{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(O(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=Ji("p:rest:"),this.listens_={}}listen(t,r,o,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=No.getListenId_(t,o),p={};this.listens_[f]=p;const m=Ih(t._queryParams);this.restRequest_(c+".json",m,(g,S)=>{let w=S;if(g===404&&(w=null,g=null),g===null&&this.onDataUpdate_(c,w,!1,o),Dr(this.listens_,f)===p){let k;g?g===401?k="permission_denied":k="rest_error:"+g:k="ok",a(k,null)}})}unlisten(t,r){const o=No.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Ih(t._queryParams),o=t._path.toString(),a=new vu;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Py(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=zi(p.responseText)}catch{Et("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&Et("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return{value:null,children:new Map}}function Gp(i,t,r){if(te(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=ne(t);i.children.has(o)||i.children.set(o,Io());const a=i.children.get(o);t=ge(t),Gp(a,t,r)}}function uu(i,t,r){i.value!==null?r(t,i.value):s0(i,(o,a)=>{const c=new de(t.toString()+"/"+o);uu(a,c,r)})}function s0(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&pt(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=10*1e3,l0=30*1e3,a0=5*60*1e3;class u0{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new o0(t);const o=Rh+(l0-Rh)*Math.random();Mi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;pt(t,(a,c)=>{c>0&&on(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),Mi(this.reportStats_.bind(this),Math.floor(Math.random()*2*a0))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function Qp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ru(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pu(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Ut.ACK_USER_WRITE,this.source=Qp()}operationForChild(t){if(te(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new de(t));return new To(le(),r,this.revert)}}else return O(ne(this.path)===t,"operationForChild called for unrelated child."),new To(ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,r){this.source=t,this.path=r,this.type=Ut.LISTEN_COMPLETE}operationForChild(t){return te(this.path)?new $i(this.source,le()):new $i(this.source,ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Ut.OVERWRITE}operationForChild(t){return te(this.path)?new Jn(this.source,le(),this.snap.getImmediateChild(t)):new Jn(this.source,ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Ut.MERGE}operationForChild(t){if(te(this.path)){const r=this.children.subtree(new de(t));return r.isEmpty()?null:r.value?new Jn(this.source,le(),r.value):new Gi(this.source,le(),r)}else return O(ne(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Gi(this.source,ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(te(t))return this.isFullyInitialized()&&!this.filtered_;const r=ne(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function d0(i,t,r,o){const a=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(t0(f.childName,f.snapshotNode))}),Ti(i,a,"child_removed",t,o,r),Ti(i,a,"child_added",t,o,r),Ti(i,a,"child_moved",c,o,r),Ti(i,a,"child_changed",t,o,r),Ti(i,a,"value",t,o,r),a}function Ti(i,t,r,o,a,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>h0(i,p,m)),f.forEach(p=>{const m=f0(i,p,c);a.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,i.query_))})})}function f0(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function h0(i,t,r){if(t.childName==null||r.childName==null)throw Lr("Should only compare child_ events.");const o=new ee(t.childName,t.snapshotNode),a=new ee(r.childName,r.snapshotNode);return i.index_.compare(o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(i,t){return{eventCache:i,serverCache:t}}function Li(i,t,r,o){return jo(new An(t,r,o),i.serverCache)}function qp(i,t,r,o){return jo(i.eventCache,new An(t,r,o))}function Ro(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Zn(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka;const p0=()=>(Ka||(Ka=new ht(Zv)),Ka);class ve{static fromObject(t){let r=new ve(null);return pt(t,(o,a)=>{r=r.set(new de(o),a)}),r}constructor(t,r=p0()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:le(),value:this.value};if(te(t))return null;{const o=ne(t),a=this.children.get(o);if(a!==null){const c=a.findRootMostMatchingPathAndValue(ge(t),r);return c!=null?{path:Le(new de(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(te(t))return this;{const r=ne(t),o=this.children.get(r);return o!==null?o.subtree(ge(t)):new ve(null)}}set(t,r){if(te(t))return new ve(r,this.children);{const o=ne(t),c=(this.children.get(o)||new ve(null)).set(ge(t),r),f=this.children.insert(o,c);return new ve(this.value,f)}}remove(t){if(te(t))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const r=ne(t),o=this.children.get(r);if(o){const a=o.remove(ge(t));let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),this.value===null&&c.isEmpty()?new ve(null):new ve(this.value,c)}else return this}}get(t){if(te(t))return this.value;{const r=ne(t),o=this.children.get(r);return o?o.get(ge(t)):null}}setTree(t,r){if(te(t))return r;{const o=ne(t),c=(this.children.get(o)||new ve(null)).setTree(ge(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new ve(this.value,f)}}fold(t){return this.fold_(le(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(Le(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,le(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(te(t))return null;{const c=ne(t),f=this.children.get(c);return f?f.findOnPath_(ge(t),Le(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,le(),r)}foreachOnPath_(t,r,o){if(te(t))return this;{this.value&&o(r,this.value);const a=ne(t),c=this.children.get(a);return c?c.foreachOnPath_(ge(t),Le(r,a),o):new ve(null)}}foreach(t){this.foreach_(le(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(Le(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.writeTree_=t}static empty(){return new Bt(new ve(null))}}function Fi(i,t,r){if(te(t))return new Bt(new ve(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let c=o.value;const f=ot(a,t);return c=c.updateChild(f,r),new Bt(i.writeTree_.set(a,c))}else{const a=new ve(r),c=i.writeTree_.setTree(t,a);return new Bt(c)}}}function Ph(i,t,r){let o=i;return pt(r,(a,c)=>{o=Fi(o,Le(t,a),c)}),o}function Dh(i,t){if(te(t))return Bt.empty();{const r=i.writeTree_.setTree(t,new ve(null));return new Bt(r)}}function cu(i,t){return er(i,t)!=null}function er(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(ot(r.path,t)):null}function Ah(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ne,(o,a)=>{t.push(new ee(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new ee(o,a.value))}),t}function Rn(i,t){if(te(t))return i;{const r=er(i,t);return r!=null?new Bt(new ve(r)):new Bt(i.writeTree_.subtree(t))}}function du(i){return i.writeTree_.isEmpty()}function Mr(i,t){return Kp(le(),i.writeTree_,t)}function Kp(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,c)=>{a===".priority"?(O(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Kp(Le(i,a),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Le(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(i,t){return Zp(t,i)}function m0(i,t,r,o,a){O(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=Fi(i.visibleWrites,t,r)),i.lastWriteId=o}function g0(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function _0(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);O(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,c=!1,f=i.allWrites.length-1;for(;a&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&y0(p,o.path)?a=!1:zt(o.path,p.path)&&(c=!0)),f--}if(a){if(c)return v0(i),!0;if(o.snap)i.visibleWrites=Dh(i.visibleWrites,o.path);else{const p=o.children;pt(p,m=>{i.visibleWrites=Dh(i.visibleWrites,Le(o.path,m))})}return!0}else return!1}function y0(i,t){if(i.snap)return zt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&zt(Le(i.path,r),t))return!0;return!1}function v0(i){i.visibleWrites=Yp(i.allWrites,w0,le()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function w0(i){return i.visible}function Yp(i,t,r){let o=Bt.empty();for(let a=0;a<i.length;++a){const c=i[a];if(t(c)){const f=c.path;let p;if(c.snap)zt(r,f)?(p=ot(r,f),o=Fi(o,p,c.snap)):zt(f,r)&&(p=ot(f,r),o=Fi(o,le(),c.snap.getChild(p)));else if(c.children){if(zt(r,f))p=ot(r,f),o=Ph(o,p,c.children);else if(zt(f,r))if(p=ot(f,r),te(p))o=Ph(o,le(),c.children);else{const m=Dr(c.children,ne(p));if(m){const g=m.getChild(ge(p));o=Fi(o,le(),g)}}}else throw Lr("WriteRecord should have .snap or .children")}}return o}function Xp(i,t,r,o,a){if(!o&&!a){const c=er(i.visibleWrites,t);if(c!=null)return c;{const f=Rn(i.visibleWrites,t);if(du(f))return r;if(r==null&&!cu(f,le()))return null;{const p=r||Q.EMPTY_NODE;return Mr(f,p)}}}else{const c=Rn(i.visibleWrites,t);if(!a&&du(c))return r;if(!a&&r==null&&!cu(c,le()))return null;{const f=function(g){return(g.visible||a)&&(!o||!~o.indexOf(g.writeId))&&(zt(g.path,t)||zt(t,g.path))},p=Yp(i.allWrites,f,t),m=r||Q.EMPTY_NODE;return Mr(p,m)}}}function C0(i,t,r){let o=Q.EMPTY_NODE;const a=er(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Ne,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=Rn(i.visibleWrites,t);return r.forEachChild(Ne,(f,p)=>{const m=Mr(Rn(c,new de(f)),p);o=o.updateImmediateChild(f,m)}),Ah(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=Rn(i.visibleWrites,t);return Ah(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function E0(i,t,r,o,a){O(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=Le(t,r);if(cu(i.visibleWrites,c))return null;{const f=Rn(i.visibleWrites,c);return du(f)?a.getChild(r):Mr(f,a.getChild(r))}}function S0(i,t,r,o){const a=Le(t,r),c=er(i.visibleWrites,a);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=Rn(i.visibleWrites,a);return Mr(f,o.getNode().getImmediateChild(r))}else return null}function x0(i,t){return er(i.visibleWrites,t)}function k0(i,t,r,o,a,c,f){let p;const m=Rn(i.visibleWrites,t),g=er(m,le());if(g!=null)p=g;else if(r!=null)p=Mr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const S=[],w=f.getCompare(),k=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let M=k.getNext();for(;M&&S.length<a;)w(M,o)!==0&&S.push(M),M=k.getNext();return S}else return[]}function N0(){return{visibleWrites:Bt.empty(),allWrites:[],lastWriteId:-1}}function Po(i,t,r,o){return Xp(i.writeTree,i.treePath,t,r,o)}function Du(i,t){return C0(i.writeTree,i.treePath,t)}function Oh(i,t,r,o){return E0(i.writeTree,i.treePath,t,r,o)}function Do(i,t){return x0(i.writeTree,Le(i.treePath,t))}function I0(i,t,r,o,a,c){return k0(i.writeTree,i.treePath,t,r,o,a,c)}function Au(i,t,r){return S0(i.writeTree,i.treePath,t,r)}function Jp(i,t){return Zp(Le(i.treePath,t),i.writeTree)}function Zp(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;O(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),O(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,Vi(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,Wi(o,a.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Or(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,Vi(o,t.snapshotNode,a.oldSnap));else throw Lr("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const em=new R0;class Ou{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new An(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Au(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zn(this.viewCache_),c=I0(this.writes_,a,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(i){return{filter:i}}function D0(i,t){O(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),O(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function A0(i,t,r,o,a){const c=new T0;let f,p;if(r.type===Ut.OVERWRITE){const g=r;g.source.fromUser?f=fu(i,t,g.path,g.snap,o,a,c):(O(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!te(g.path),f=Ao(i,t,g.path,g.snap,o,a,p,c))}else if(r.type===Ut.MERGE){const g=r;g.source.fromUser?f=M0(i,t,g.path,g.children,o,a,c):(O(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),f=hu(i,t,g.path,g.children,o,a,p,c))}else if(r.type===Ut.ACK_USER_WRITE){const g=r;g.revert?f=j0(i,t,g.path,o,a,c):f=L0(i,t,g.path,g.affectedTree,o,a,c)}else if(r.type===Ut.LISTEN_COMPLETE)f=F0(i,t,r.path,o,c);else throw Lr("Unknown operation type: "+r.type);const m=c.getChanges();return O0(t,f,m),{viewCache:f,changes:m}}function O0(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=Ro(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push($p(Ro(t)))}}function tm(i,t,r,o,a,c){const f=t.eventCache;if(Do(o,r)!=null)return t;{let p,m;if(te(r))if(O(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Zn(t),S=g instanceof Q?g:Q.EMPTY_NODE,w=Du(o,S);p=i.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const g=Po(o,Zn(t));p=i.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=ne(r);if(g===".priority"){O(Dn(r)===1,"Can't have a priority with additional path components");const S=f.getNode();m=t.serverCache.getNode();const w=Oh(o,r,S,m);w!=null?p=i.filter.updatePriority(S,w):p=f.getNode()}else{const S=ge(r);let w;if(f.isCompleteForChild(g)){m=t.serverCache.getNode();const k=Oh(o,r,f.getNode(),m);k!=null?w=f.getNode().getImmediateChild(g).updateChild(S,k):w=f.getNode().getImmediateChild(g)}else w=Au(o,g,t.serverCache);w!=null?p=i.filter.updateChild(f.getNode(),g,w,S,a,c):p=f.getNode()}}return Li(t,p,f.isFullyInitialized()||te(r),i.filter.filtersNodes())}}function Ao(i,t,r,o,a,c,f,p){const m=t.serverCache;let g;const S=f?i.filter:i.filter.getIndexedFilter();if(te(r))g=S.updateFullNode(m.getNode(),o,null);else if(S.filtersNodes()&&!m.isFiltered()){const M=m.getNode().updateChild(r,o);g=S.updateFullNode(m.getNode(),M,null)}else{const M=ne(r);if(!m.isCompleteForPath(r)&&Dn(r)>1)return t;const j=ge(r),q=m.getNode().getImmediateChild(M).updateChild(j,o);M===".priority"?g=S.updatePriority(m.getNode(),q):g=S.updateChild(m.getNode(),M,q,j,em,null)}const w=qp(t,g,m.isFullyInitialized()||te(r),S.filtersNodes()),k=new Ou(a,w,c);return tm(i,w,r,a,k,p)}function fu(i,t,r,o,a,c,f){const p=t.eventCache;let m,g;const S=new Ou(a,t,c);if(te(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Li(t,g,!0,i.filter.filtersNodes());else{const w=ne(r);if(w===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=Li(t,g,p.isFullyInitialized(),p.isFiltered());else{const k=ge(r),M=p.getNode().getImmediateChild(w);let j;if(te(k))j=o;else{const V=S.getCompleteChild(w);V!=null?Lp(k)===".priority"&&V.getChild(jp(k)).isEmpty()?j=V:j=V.updateChild(k,o):j=Q.EMPTY_NODE}if(M.equals(j))m=t;else{const V=i.filter.updateChild(p.getNode(),w,j,k,S,f);m=Li(t,V,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Mh(i,t){return i.eventCache.isCompleteForChild(t)}function M0(i,t,r,o,a,c,f){let p=t;return o.foreach((m,g)=>{const S=Le(r,m);Mh(t,ne(S))&&(p=fu(i,p,S,g,a,c,f))}),o.foreach((m,g)=>{const S=Le(r,m);Mh(t,ne(S))||(p=fu(i,p,S,g,a,c,f))}),p}function Lh(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function hu(i,t,r,o,a,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;te(r)?g=o:g=new ve(null).setTree(r,o);const S=t.serverCache.getNode();return g.children.inorderTraversal((w,k)=>{if(S.hasChild(w)){const M=t.serverCache.getNode().getImmediateChild(w),j=Lh(i,M,k);m=Ao(i,m,new de(w),j,a,c,f,p)}}),g.children.inorderTraversal((w,k)=>{const M=!t.serverCache.isCompleteForChild(w)&&k.value===null;if(!S.hasChild(w)&&!M){const j=t.serverCache.getNode().getImmediateChild(w),V=Lh(i,j,k);m=Ao(i,m,new de(w),V,a,c,f,p)}}),m}function L0(i,t,r,o,a,c,f){if(Do(a,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(te(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Ao(i,t,r,m.getNode().getChild(r),a,c,p,f);if(te(r)){let g=new ve(null);return m.getNode().forEachChild(Pr,(S,w)=>{g=g.set(new de(S),w)}),hu(i,t,r,g,a,c,p,f)}else return t}else{let g=new ve(null);return o.foreach((S,w)=>{const k=Le(r,S);m.isCompleteForPath(k)&&(g=g.set(S,m.getNode().getChild(k)))}),hu(i,t,r,g,a,c,p,f)}}function F0(i,t,r,o,a){const c=t.serverCache,f=qp(t,c.getNode(),c.isFullyInitialized()||te(r),c.isFiltered());return tm(i,f,r,o,em,a)}function j0(i,t,r,o,a,c){let f;if(Do(o,r)!=null)return t;{const p=new Ou(o,t,a),m=t.eventCache.getNode();let g;if(te(r)||ne(r)===".priority"){let S;if(t.serverCache.isFullyInitialized())S=Po(o,Zn(t));else{const w=t.serverCache.getNode();O(w instanceof Q,"serverChildren would be complete if leaf node"),S=Du(o,w)}S=S,g=i.filter.updateFullNode(m,S,c)}else{const S=ne(r);let w=Au(o,S,t.serverCache);w==null&&t.serverCache.isCompleteForChild(S)&&(w=m.getImmediateChild(S)),w!=null?g=i.filter.updateChild(m,S,w,ge(r),p,c):t.eventCache.getNode().hasChild(S)?g=i.filter.updateChild(m,S,Q.EMPTY_NODE,ge(r),p,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Po(o,Zn(t)),f.isLeafNode()&&(g=i.filter.updateFullNode(g,f,c)))}return f=t.serverCache.isFullyInitialized()||Do(o,le())!=null,Li(t,g,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Iu(o.getIndex()),c=r0(o);this.processor_=P0(c);const f=r.serverCache,p=r.eventCache,m=a.updateFullNode(Q.EMPTY_NODE,f.getNode(),null),g=c.updateFullNode(Q.EMPTY_NODE,p.getNode(),null),S=new An(m,f.isFullyInitialized(),a.filtersNodes()),w=new An(g,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=jo(w,S),this.eventGenerator_=new c0(this.query_)}get query(){return this.query_}}function U0(i){return i.viewCache_.serverCache.getNode()}function B0(i){return Ro(i.viewCache_)}function b0(i,t){const r=Zn(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!te(t)&&!r.getImmediateChild(ne(t)).isEmpty())?r.getChild(t):null}function Fh(i){return i.eventRegistrations_.length===0}function W0(i,t){i.eventRegistrations_.push(t)}function jh(i,t,r){const o=[];if(r){O(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,a);f&&o.push(f)})}if(t){let a=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))a.push(f);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function zh(i,t,r,o){t.type===Ut.MERGE&&t.source.queryId!==null&&(O(Zn(i.viewCache_),"We should always have a full cache before handling merges"),O(Ro(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,c=A0(i.processor_,a,t,r,o);return D0(i.processor_,c.viewCache),O(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,nm(i,c.changes,c.viewCache.eventCache.getNode(),null)}function V0(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ne,(c,f)=>{o.push(Or(c,f))}),r.isFullyInitialized()&&o.push($p(r.getNode())),nm(i,o,r.getNode(),t)}function nm(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return d0(i.eventGenerator_,t,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo;class rm{constructor(){this.views=new Map}}function H0(i){O(!Oo,"__referenceConstructor has already been defined"),Oo=i}function $0(){return O(Oo,"Reference.ts has not been loaded"),Oo}function G0(i){return i.views.size===0}function Mu(i,t,r,o){const a=t.source.queryId;if(a!==null){const c=i.views.get(a);return O(c!=null,"SyncTree gave us an op for an invalid query."),zh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(zh(f,t,r,o));return c}}function im(i,t,r,o,a){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=Po(r,a?o:null),m=!1;p?m=!0:o instanceof Q?(p=Du(r,o),m=!1):(p=Q.EMPTY_NODE,m=!1);const g=jo(new An(p,m,!1),new An(o,a,!1));return new z0(t,g)}return f}function Q0(i,t,r,o,a,c){const f=im(i,t,o,a,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),W0(f,r),V0(f,r)}function q0(i,t,r,o){const a=t._queryIdentifier,c=[];let f=[];const p=On(i);if(a==="default")for(const[m,g]of i.views.entries())f=f.concat(jh(g,r,o)),Fh(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||c.push(g.query));else{const m=i.views.get(a);m&&(f=f.concat(jh(m,r,o)),Fh(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!On(i)&&c.push(new($0())(t._repo,t._path)),{removed:c,events:f}}function sm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Pn(i,t){let r=null;for(const o of i.views.values())r=r||b0(o,t);return r}function om(i,t){if(t._queryParams.loadsAllData())return Uo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function lm(i,t){return om(i,t)!=null}function On(i){return Uo(i)!=null}function Uo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;function K0(i){O(!Mo,"__referenceConstructor has already been defined"),Mo=i}function Y0(){return O(Mo,"Reference.ts has not been loaded"),Mo}let X0=1;class Uh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ve(null),this.pendingWriteTree_=N0(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function J0(i,t,r,o,a){return m0(i.pendingWriteTree_,t,r,o,a),a?ns(i,new Jn(Qp(),t,r)):[]}function Ir(i,t,r=!1){const o=g0(i.pendingWriteTree_,t);if(_0(i.pendingWriteTree_,t)){let c=new ve(null);return o.snap!=null?c=c.set(le(),!0):pt(o.children,f=>{c=c.set(new de(f),!0)}),ns(i,new To(o.path,c,r))}else return[]}function ts(i,t,r){return ns(i,new Jn(Ru(),t,r))}function Z0(i,t,r){const o=ve.fromObject(r);return ns(i,new Gi(Ru(),t,o))}function eC(i,t){return ns(i,new $i(Ru(),t))}function tC(i,t,r){const o=Lu(i,r);if(o){const a=Fu(o),c=a.path,f=a.queryId,p=ot(c,t),m=new $i(Pu(f),p);return ju(i,c,m)}else return[]}function am(i,t,r,o,a=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||lm(f,t))){const m=q0(f,t,r,o);G0(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const g=m.removed;if(p=m.events,!a){const S=g.findIndex(k=>k._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(c,(k,M)=>On(M));if(S&&!w){const k=i.syncPointTree_.subtree(c);if(!k.isEmpty()){const M=sC(k);for(let j=0;j<M.length;++j){const V=M[j],q=V.query,Fe=hm(i,V);i.listenProvider_.startListening(ji(q),Qi(i,q),Fe.hashFn,Fe.onComplete)}}}!w&&g.length>0&&!o&&(S?i.listenProvider_.stopListening(ji(t),null):g.forEach(k=>{const M=i.queryToTagMap.get(Bo(k));i.listenProvider_.stopListening(ji(k),M)}))}oC(i,g)}return p}function um(i,t,r,o){const a=Lu(i,o);if(a!=null){const c=Fu(a),f=c.path,p=c.queryId,m=ot(f,t),g=new Jn(Pu(p),m,r);return ju(i,f,g)}else return[]}function nC(i,t,r,o){const a=Lu(i,o);if(a){const c=Fu(a),f=c.path,p=c.queryId,m=ot(f,t),g=ve.fromObject(r),S=new Gi(Pu(p),m,g);return ju(i,f,S)}else return[]}function rC(i,t,r,o=!1){const a=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(a,(k,M)=>{const j=ot(k,a);c=c||Pn(M,j),f=f||On(M)});let p=i.syncPointTree_.get(a);p?(f=f||On(p),c=c||Pn(p,le())):(p=new rm,i.syncPointTree_=i.syncPointTree_.set(a,p));let m;c!=null?m=!0:(m=!1,c=Q.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((M,j)=>{const V=Pn(j,le());V&&(c=c.updateImmediateChild(M,V))}));const g=lm(p,t);if(!g&&!t._queryParams.loadsAllData()){const k=Bo(t);O(!i.queryToTagMap.has(k),"View does not exist, but we have a tag");const M=lC();i.queryToTagMap.set(k,M),i.tagToQueryMap.set(M,k)}const S=zo(i.pendingWriteTree_,a);let w=Q0(p,t,r,S,c,m);if(!g&&!f&&!o){const k=om(p,t);w=w.concat(aC(i,t,k))}return w}function cm(i,t,r){const a=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=ot(f,t),g=Pn(p,m);if(g)return g});return Xp(a,t,c,r,!0)}function iC(i,t){const r=t._path;let o=null;i.syncPointTree_.foreachOnPath(r,(g,S)=>{const w=ot(g,r);o=o||Pn(S,w)});let a=i.syncPointTree_.get(r);a?o=o||Pn(a,le()):(a=new rm,i.syncPointTree_=i.syncPointTree_.set(r,a));const c=o!=null,f=c?new An(o,!0,!1):null,p=zo(i.pendingWriteTree_,t._path),m=im(a,t,p,c?f.getNode():Q.EMPTY_NODE,c);return B0(m)}function ns(i,t){return dm(t,i.syncPointTree_,null,zo(i.pendingWriteTree_,le()))}function dm(i,t,r,o){if(te(i.path))return fm(i,t,r,o);{const a=t.get(le());r==null&&a!=null&&(r=Pn(a,le()));let c=[];const f=ne(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const g=r?r.getImmediateChild(f):null,S=Jp(o,f);c=c.concat(dm(p,m,g,S))}return a&&(c=c.concat(Mu(a,i,o,r))),c}}function fm(i,t,r,o){const a=t.get(le());r==null&&a!=null&&(r=Pn(a,le()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,g=Jp(o,f),S=i.operationForChild(f);S&&(c=c.concat(fm(S,p,m,g)))}),a&&(c=c.concat(Mu(a,i,o,r))),c}function hm(i,t){const r=t.query,o=Qi(i,r);return{hashFn:()=>(U0(t)||Q.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?tC(i,r._path,o):eC(i,r._path);{const c=nw(a,r);return am(i,r,null,c)}}}}function Qi(i,t){const r=Bo(t);return i.queryToTagMap.get(r)}function Bo(i){return i._path.toString()+"$"+i._queryIdentifier}function Lu(i,t){return i.tagToQueryMap.get(t)}function Fu(i){const t=i.indexOf("$");return O(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new de(i.substr(0,t))}}function ju(i,t,r){const o=i.syncPointTree_.get(t);O(o,"Missing sync point for query tag that we're tracking");const a=zo(i.pendingWriteTree_,t);return Mu(o,r,a,null)}function sC(i){return i.fold((t,r,o)=>{if(r&&On(r))return[Uo(r)];{let a=[];return r&&(a=sm(r)),pt(o,(c,f)=>{a=a.concat(f)}),a}})}function ji(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(Y0())(i._repo,i._path):i}function oC(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=Bo(o),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}function lC(){return X0++}function aC(i,t,r){const o=t._path,a=Qi(i,t),c=hm(i,r),f=i.listenProvider_.startListening(ji(t),a,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(a)O(!On(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((g,S,w)=>{if(!te(g)&&S&&On(S))return[Uo(S).query];{let k=[];return S&&(k=k.concat(sm(S).map(M=>M.query))),pt(w,(M,j)=>{k=k.concat(j)}),k}});for(let g=0;g<m.length;++g){const S=m[g];i.listenProvider_.stopListening(ji(S),Qi(i,S))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new zu(r)}node(){return this.node_}}class Uu{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Le(this.path_,t);return new Uu(this.syncTree_,r)}node(){return cm(this.syncTree_,this.path_)}}const uC=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Bh=function(i,t,r){if(!i||typeof i!="object")return i;if(O(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return cC(i[".sv"],t,r);if(typeof i[".sv"]=="object")return dC(i[".sv"],t);O(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},cC=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:O(!1,"Unexpected server value: "+i)}},dC=function(i,t,r){i.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&O(!1,"Unexpected increment value: "+o);const a=t.node();if(O(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const f=a.getValue();return typeof f!="number"?o:f+o},fC=function(i,t,r,o){return Bu(t,new Uu(r,i),o)},hC=function(i,t,r){return Bu(i,new zu(t),r)};function Bu(i,t,r){const o=i.getPriority().val(),a=Bh(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=Bh(f.getValue(),t,r);return p!==f.getValue()||a!==f.getPriority().val()?new be(p,qe(a)):i}else{const f=i;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new be(a))),f.forEachChild(Ne,(p,m)=>{const g=Bu(m,t.getImmediateChild(p),r);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Wu(i,t){let r=t instanceof de?t:new de(t),o=i,a=ne(r);for(;a!==null;){const c=Dr(o.node.children,a)||{children:{},childCount:0};o=new bu(a,o,c),r=ge(r),a=ne(r)}return o}function jr(i){return i.node.value}function pm(i,t){i.node.value=t,pu(i)}function mm(i){return i.node.childCount>0}function pC(i){return jr(i)===void 0&&!mm(i)}function bo(i,t){pt(i.node.children,(r,o)=>{t(new bu(r,i,o))})}function gm(i,t,r,o){r&&t(i),bo(i,a=>{gm(a,t,!0)})}function mC(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function rs(i){return new de(i.parent===null?i.name:rs(i.parent)+"/"+i.name)}function pu(i){i.parent!==null&&gC(i.parent,i.name,i)}function gC(i,t,r){const o=pC(r),a=on(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,pu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,pu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/[\[\].#$\/\u0000-\u001F\u007F]/,yC=/[\[\].#$\u0000-\u001F\u007F]/,Ya=10*1024*1024,_m=function(i){return typeof i=="string"&&i.length!==0&&!_C.test(i)},ym=function(i){return typeof i=="string"&&i.length!==0&&!yC.test(i)},vC=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ym(i)},vm=function(i,t,r){const o=r instanceof de?new Lw(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Kn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Kn(o)+" with contents = "+t.toString());if(pp(t))throw new Error(i+"contains "+t.toString()+" "+Kn(o));if(typeof t=="string"&&t.length>Ya/3&&Lo(t)>Ya)throw new Error(i+"contains a string greater than "+Ya+" utf8 bytes "+Kn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,c=!1;if(pt(t,(f,p)=>{if(f===".value")a=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!_m(f)))throw new Error(i+" contains an invalid key ("+f+") "+Kn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Fw(o,f),vm(i,p,o),jw(o)}),a&&c)throw new Error(i+' contains ".value" child '+Kn(o)+" in addition to actual children.")}},wm=function(i,t,r,o){if(!ym(r))throw new Error(ip(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wC=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),wm(i,t,r)},CC=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!_m(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!vC(r))throw new Error(ip(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SC(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=a.getPath();r!==null&&!zp(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(a)}r&&i.eventLists_.push(r)}function Mn(i,t,r){SC(i,r),xC(i,o=>zt(o,t)||zt(t,o))}function xC(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const c=a.path;t(c)?(kC(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function kC(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Oi&&et("event: "+r.toString()),Zi(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="repo_interrupt",IC=25;class TC{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Io(),this.transactionQueueTree_=new bu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RC(i,t,r){if(i.stats_=Su(i.repoInfo_),i.forceRestClient_||ow())i.server_=new No(i.repoInfo_,(o,a,c,f)=>{bh(i,o,a,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Wh(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Me(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new nn(i.repoInfo_,t,(o,a,c,f)=>{bh(i,o,a,c,f)},o=>{Wh(i,o)},o=>{DC(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=dw(i.repoInfo_,()=>new u0(i.stats_,i.server_)),i.infoData_=new i0,i.infoSyncTree_=new Uh({startListening:(o,a,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=ts(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),Vu(i,"connected",!1),i.serverSyncTree_=new Uh({startListening:(o,a,c,f)=>(i.server_.listen(o,c,a,(p,m)=>{const g=f(p,m);Mn(i.eventQueue_,o._path,g)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function PC(i){const r=i.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Cm(i){return uC({timestamp:PC(i)})}function bh(i,t,r,o,a){i.dataUpdateCount++;const c=new de(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(a)if(o){const m=wo(r,g=>qe(g));f=nC(i.serverSyncTree_,c,m,a)}else{const m=qe(r);f=um(i.serverSyncTree_,c,m,a)}else if(o){const m=wo(r,g=>qe(g));f=Z0(i.serverSyncTree_,c,m)}else{const m=qe(r);f=ts(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=Gu(i,c)),Mn(i.eventQueue_,p,f)}function Wh(i,t){Vu(i,"connected",t),t===!1&&MC(i)}function DC(i,t){pt(t,(r,o)=>{Vu(i,r,o)})}function Vu(i,t,r){const o=new de("/.info/"+t),a=qe(r);i.infoData_.updateSnapshot(o,a);const c=ts(i.infoSyncTree_,o,a);Mn(i.eventQueue_,o,c)}function AC(i){return i.nextWriteId_++}function OC(i,t,r){const o=iC(i.serverSyncTree_,t);return o!=null?Promise.resolve(o):i.server_.get(t).then(a=>{const c=qe(a).withIndex(t._queryParams.getIndex());rC(i.serverSyncTree_,t,r,!0);let f;if(t._queryParams.loadsAllData())f=ts(i.serverSyncTree_,t._path,c);else{const p=Qi(i.serverSyncTree_,t);f=um(i.serverSyncTree_,t._path,c,p)}return Mn(i.eventQueue_,t._path,f),am(i.serverSyncTree_,t,r,null,!0),c},a=>(Hu(i,"get for query "+Me(t)+" failed: "+a),Promise.reject(new Error(a))))}function MC(i){Hu(i,"onDisconnectEvents");const t=Cm(i),r=Io();uu(i.onDisconnect_,le(),(a,c)=>{const f=fC(a,c,i.serverSyncTree_,t);Gp(r,a,f)});let o=[];uu(r,le(),(a,c)=>{o=o.concat(ts(i.serverSyncTree_,a,c));const f=zC(i,a);Gu(i,f)}),i.onDisconnect_=Io(),Mn(i.eventQueue_,le(),o)}function LC(i){i.persistentConnection_&&i.persistentConnection_.interrupt(NC)}function Hu(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),et(r,...t)}function Em(i,t,r){return cm(i.serverSyncTree_,t,r)||Q.EMPTY_NODE}function $u(i,t=i.transactionQueueTree_){if(t||Wo(i,t),jr(t)){const r=xm(i,t);O(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&FC(i,rs(t),r)}else mm(t)&&bo(t,r=>{$u(i,r)})}function FC(i,t,r){const o=r.map(g=>g.currentWriteId),a=Em(i,t,o);let c=a;const f=a.hash();for(let g=0;g<r.length;g++){const S=r[g];O(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const w=ot(t,S.path);c=c.updateChild(w,S.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,g=>{Hu(i,"transaction put response",{path:m.toString(),status:g});let S=[];if(g==="ok"){const w=[];for(let k=0;k<r.length;k++)r[k].status=2,S=S.concat(Ir(i.serverSyncTree_,r[k].currentWriteId)),r[k].onComplete&&w.push(()=>r[k].onComplete(null,!0,r[k].currentOutputSnapshotResolved)),r[k].unwatcher();Wo(i,Wu(i.transactionQueueTree_,t)),$u(i,i.transactionQueueTree_),Mn(i.eventQueue_,t,S);for(let k=0;k<w.length;k++)Zi(w[k])}else{if(g==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{Et("transaction at "+m.toString()+" failed: "+g);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=g}Gu(i,t)}},f)}function Gu(i,t){const r=Sm(i,t),o=rs(r),a=xm(i,r);return jC(i,a,o),o}function jC(i,t,r){if(t.length===0)return;const o=[];let a=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=ot(r,m.path);let S=!1,w;if(O(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)S=!0,w=m.abortReason,a=a.concat(Ir(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=IC)S=!0,w="maxretry",a=a.concat(Ir(i.serverSyncTree_,m.currentWriteId,!0));else{const k=Em(i,m.path,f);m.currentInputSnapshot=k;const M=t[p].update(k.val());if(M!==void 0){vm("transaction failed: Data returned ",M,m.path);let j=qe(M);typeof M=="object"&&M!=null&&on(M,".priority")||(j=j.updatePriority(k.getPriority()));const q=m.currentWriteId,Fe=Cm(i),Ve=hC(j,k,Fe);m.currentOutputSnapshotRaw=j,m.currentOutputSnapshotResolved=Ve,m.currentWriteId=AC(i),f.splice(f.indexOf(q),1),a=a.concat(J0(i.serverSyncTree_,m.path,Ve,m.currentWriteId,m.applyLocally)),a=a.concat(Ir(i.serverSyncTree_,q,!0))}else S=!0,w="nodata",a=a.concat(Ir(i.serverSyncTree_,m.currentWriteId,!0))}Mn(i.eventQueue_,r,a),a=[],S&&(t[p].status=2,function(k){setTimeout(k,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(w==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(w),!1,null))))}Wo(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Zi(o[p]);$u(i,i.transactionQueueTree_)}function Sm(i,t){let r,o=i.transactionQueueTree_;for(r=ne(t);r!==null&&jr(o)===void 0;)o=Wu(o,r),t=ge(t),r=ne(t);return o}function xm(i,t){const r=[];return km(i,t,r),r.sort((o,a)=>o.order-a.order),r}function km(i,t,r){const o=jr(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);bo(t,a=>{km(i,a,r)})}function Wo(i,t){const r=jr(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,pm(t,r.length>0?r:void 0)}bo(t,o=>{Wo(i,o)})}function zC(i,t){const r=rs(Sm(i,t)),o=Wu(i.transactionQueueTree_,t);return mC(o,a=>{Xa(i,a)}),Xa(i,o),gm(o,a=>{Xa(i,a)}),r}function Xa(i,t){const r=jr(t);if(r){const o=[];let a=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(O(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(O(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),a=a.concat(Ir(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?pm(t,void 0):r.length=c+1,Mn(i.eventQueue_,rs(t),a);for(let f=0;f<o.length;f++)Zi(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function BC(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Et(`Invalid query segment '${r}' in query '${i}'`)}return t}const Vh=function(i,t){const r=bC(i),o=r.namespace;r.domain==="firebase.com"&&sn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&sn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Xv();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Np(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new de(r.pathString)}},bC=function(i){let t="",r="",o="",a="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(p=i.substring(0,g-1),i=i.substring(g+2));let S=i.indexOf("/");S===-1&&(S=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(S,w)),S<w&&(a=UC(i.substring(S,w)));const k=BC(i.substring(Math.min(i.length,w)));g=t.indexOf(":"),g>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const M=t.slice(0,g);if(M.toLowerCase()==="localhost")r="localhost";else if(M.split(".").length<=2)r=M;else{const j=t.indexOf(".");o=t.substring(0,j).toLowerCase(),r=t.substring(j+1),c=o}"ns"in k&&(c=k.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:a,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Me(this.snapshot.exportVal())}}class VC{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return te(this._path)?null:Lp(this._path)}get ref(){return new ln(this._repo,this._path)}get _queryIdentifier(){const t=Th(this._queryParams),r=Cu(t);return r==="{}"?"default":r}get _queryObject(){return Th(this._queryParams)}isEqual(t){if(t=Yi(t),!(t instanceof Qu))return!1;const r=this._repo===t._repo,o=zp(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+Mw(this._path)}}class ln extends Qu{constructor(t,r){super(t,r,new Tu,!1)}get parent(){const t=jp(this._path);return t===null?null:new ln(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class qi{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new de(t),o=mu(this.ref,t);return new qi(this._node.getChild(r),o,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new qi(a,mu(this.ref,o),Ne)))}hasChild(t){const r=new de(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ri(i,t){return i=Yi(i),i._checkNotDeleted("ref"),t!==void 0?mu(i._root,t):i._root}function mu(i,t){return i=Yi(i),ne(i._path)===null?wC("child","path",t):wm("child","path",t),new ln(i._repo,Le(i._path,t))}function Pi(i){i=Yi(i);const t=new HC(()=>{}),r=new qu(t);return OC(i._repo,i,r).then(o=>new qi(o,new ln(i._repo,i._path),i._queryParams.getIndex()))}class qu{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new WC("value",this,new qi(t.snapshotNode,new ln(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new VC(this,t,r):null}matches(t){return t instanceof qu?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}H0(ln);K0(ln);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="FIREBASE_DATABASE_EMULATOR_HOST",gu={};let GC=!1;function QC(i,t,r,o){i.repoInfo_=new Np(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function qC(i,t,r,o,a){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||sn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=Vh(c,a),p=f.repoInfo,m;typeof process<"u"&&ch&&(m=ch[$C]),m?(c=`http://${m}?ns=${p.namespace}`,f=Vh(c,a),p=f.repoInfo):f.repoInfo.secure;const g=new aw(i.name,i.options,t);CC("Invalid Firebase Database URL",f),te(f.path)||sn("Database URL must point to the root of a Firebase Database (not including a child path).");const S=YC(p,i,g,new lw(i.name,r));return new XC(S,i)}function KC(i,t){const r=gu[t];(!r||r[i.key]!==i)&&sn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),LC(i),delete r[i.key]}function YC(i,t,r,o){let a=gu[t.name];a||(a={},gu[t.name]=a);let c=a[i.toURLString()];return c&&sn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new TC(i,GC,r,o),a[i.toURLString()]=c,c}class XC{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ln(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&sn("Cannot call "+t+" on a deleted database.")}}function JC(i=Ov(),t){const r=Rv(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=yy("database");o&&ZC(r,...o)}return r}function ZC(i,t,r,o={}){i=Yi(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&sn("Cannot call useEmulator() after instance has already been initialized.");const a=i._repoInternal;let c;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&sn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new yo(yo.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:vy(o.mockUserToken,i.app.options.projectId);c=new yo(f)}QC(a,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(i){$v(Av),Eo(new Ui("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return qC(o,a,c,r)},"PUBLIC").setMultipleInstances(!0)),Tr(dh,fh,i),Tr(dh,fh,"esm2017")}nn.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};nn.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};eE();const Di=({title:i,value:t,icon:r,change:o,subtitle:a})=>I.jsx("div",{className:"stat-card",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-muted-foreground",children:i}),I.jsx("h3",{className:"text-2xl font-bold mt-1",children:t}),o&&I.jsxs("p",{className:`text-sm mt-1 ${o>0?"text-green-600":"text-red-600"}`,children:[o>0?"↑":"↓"," ",Math.abs(o),"%"]}),a&&I.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a})]}),I.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:I.jsx(r,{className:"h-6 w-6 text-primary"})})]})}),tE=({title:i,items:t,icon:r})=>I.jsxs("div",{className:"stat-card",children:[I.jsxs("div",{className:"flex items-center justify-between mb-3",children:[I.jsx("p",{className:"text-sm text-muted-foreground",children:i}),I.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:I.jsx(r,{className:"h-6 w-6 text-primary"})})]}),I.jsx("div",{className:"space-y-2",children:Object.entries(t).map(([o,a])=>I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsxs("span",{className:"text-sm text-muted-foreground capitalize",children:[o,":"]}),I.jsx("span",{className:"text-sm font-medium",children:a.toLocaleString()})]},o))})]}),nE=({clinicData:i,masterInventory:t,inventoryData:r})=>{const o=pe.useMemo(()=>{if(!i.length||!(t!=null&&t.equipment_info))return{totalClinics:0,activeClinics:0,totalInventoryValue:0,pendingClosures:0,totalItems:{},matchedClinics:0};const a=i.length,c=i.filter(S=>S.closure_status!=="Closed").length,f={table:0,chair:0,stool:0,fan:0};let p=0;i.forEach(S=>{const w=S.rent_status==="In-House Clinic";Object.entries(t.equipment_info).forEach(([k,M])=>{k==="fan"&&w||(f[k]+=M.quantity,p+=M.quantity*M.unit_cost)})});const m=i.filter(S=>S.closure_status==="Pending").length;let g=0;if(r){const S=new Set;Object.values(r).forEach(w=>{Object.keys(w).forEach(k=>{S.add(k)})}),g=i.filter(w=>S.has(w["E-Clinic Code"])).length}return{totalClinics:a,activeClinics:c,totalInventoryValue:p,pendingClosures:m,totalItems:f,matchedClinics:g}},[i,t,r]);return I.jsx("div",{className:"space-y-6",children:I.jsxs("div",{className:"dashboard-grid",children:[I.jsx(Di,{title:"Total Clinics",value:o.totalClinics,icon:Ja}),I.jsx(Di,{title:"Active Clinics",value:o.activeClinics,icon:B_,change:(o.activeClinics/o.totalClinics*100).toFixed(1)}),I.jsx(Di,{title:"Total Inventory Value",value:`₹${o.totalInventoryValue.toLocaleString()}`,icon:W_,subtitle:"Across all clinics"}),I.jsx(Di,{title:"Pending Closures",value:o.pendingClosures,icon:qh,subtitle:`${(o.pendingClosures/o.totalClinics*100).toFixed(1)}% of total`}),I.jsx(Di,{title:"Matched Inventory Clinics",value:o.matchedClinics,icon:Z_,subtitle:`${(o.matchedClinics/o.totalClinics*100).toFixed(1)}% of total`}),I.jsx(tE,{title:"Total Equipment Count",items:o.totalItems,icon:Ja})]})})},rE=({selectedState:i,states:t,searchQuery:r,onStateChange:o,onSearchChange:a,showMatchedOnly:c,onMatchedChange:f})=>I.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-border mb-6",children:I.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Select State"}),I.jsxs("select",{className:"w-full p-2 rounded-md border border-input bg-background",value:i,onChange:o,children:[I.jsx("option",{value:"",children:"All States"}),t.map(p=>I.jsx("option",{value:p,children:p},p))]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Search Clinics"}),I.jsxs("div",{className:"relative",children:[I.jsx(oy,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),I.jsx("input",{type:"text",className:"w-full pl-10 p-2 rounded-md border border-input bg-background",placeholder:"Search by clinic code or name...",value:r,onChange:a})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Inventory Filter"}),I.jsx("div",{className:"flex items-center space-x-2",children:I.jsxs("button",{onClick:()=>f(!c),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${c?"border-primary bg-primary/10 text-primary":"border-input bg-background text-muted-foreground hover:bg-secondary"}`,children:[I.jsx(ty,{className:"h-4 w-4"}),I.jsx("span",{className:"text-sm",children:c?"Showing Matched Only":"Show All Clinics"})]})})]})]})}),iE=({clinic:i,isSelected:t,onSelect:r,inventoryValue:o,inventoryDetails:a,regionInventory:c,relocationInfo:f})=>{const p=m=>{switch(m==null?void 0:m.toLowerCase()){case"closed":return"text-red-500 bg-red-50";case"pending":return"text-yellow-500 bg-yellow-50";default:return"text-green-500 bg-green-50"}};return I.jsx($h,{className:"transition-all duration-200 hover:shadow-lg",children:I.jsxs(Gh,{className:"p-4",children:[I.jsxs("div",{className:"cursor-pointer",onClick:()=>r(i),children:[I.jsxs("div",{className:"flex justify-between items-start mb-3",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"font-bold text-primary",children:i.clinic_name}),I.jsx("span",{className:"text-xs text-muted-foreground",children:i["E-Clinic Code"]})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(i.closure_status)}`,children:i.closure_status||"Active"}),t?I.jsx(Y_,{className:"w-5 h-5 text-primary"}):I.jsx(q_,{className:"w-5 h-5 text-muted-foreground"})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[I.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[I.jsx(ry,{className:"w-4 h-4"}),I.jsx("span",{className:"truncate",children:i.branch_name})]}),I.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[I.jsx(H_,{className:"w-4 h-4"}),I.jsx("span",{children:i.region})]}),I.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[I.jsx(G_,{className:"w-4 h-4"}),I.jsxs("span",{children:["Started: ",i.start_date]})]}),I.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[I.jsx(Ja,{className:"w-4 h-4"}),I.jsxs("span",{children:["₹",o.toLocaleString()]})]})]})]}),t&&I.jsx("div",{className:"border-t mt-4 pt-4",children:I.jsxs("div",{className:"grid gap-4",children:[I.jsxs("div",{children:[I.jsx("h4",{className:"font-semibold mb-2 text-primary text-sm",children:"Master Inventory"}),I.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(a).map(([m,g])=>I.jsxs("div",{className:"flex items-center justify-between bg-secondary/50 p-2 rounded",children:[I.jsxs("span",{className:"text-muted-foreground capitalize",children:[m,":"]}),I.jsxs("span",{className:"font-medium",children:[g.quantity,g.quantity>0&&I.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(₹",(g.quantity*g.unit_cost).toLocaleString(),")"]})]})]},m))})]}),c&&I.jsxs("div",{children:[I.jsxs("h4",{className:"font-semibold mb-2 text-primary text-sm",children:["Current Inventory (",c.region,")"]}),I.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(c.inventory).map(([m,g])=>I.jsxs("div",{className:"flex items-center justify-between bg-secondary/50 p-2 rounded",children:[I.jsxs("span",{className:"text-muted-foreground capitalize",children:[m,":"]}),I.jsx("span",{className:"font-medium",children:g})]},m))})]}),I.jsxs("div",{children:[I.jsx("h4",{className:"font-semibold mb-2 text-primary text-sm",children:"Status Information"}),I.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[I.jsxs("div",{className:"space-y-1",children:[I.jsxs("p",{children:[I.jsx("span",{className:"text-muted-foreground",children:"Closure Week:"})," ",i.closure_week]}),I.jsxs("p",{children:[I.jsx("span",{className:"text-muted-foreground",children:"Rent Status:"})," ",i.rent_status]})]}),I.jsxs("div",{className:"space-y-1",children:[I.jsxs("p",{children:[I.jsx("span",{className:"text-muted-foreground",children:"Ageing:"})," ",i.ageing]}),I.jsxs("p",{children:[I.jsx("span",{className:"text-muted-foreground",children:"Security:"})," ",i.security_deposit||"NA"]})]})]})]}),i.relocation_info&&I.jsxs("div",{children:[I.jsxs("h4",{className:"font-semibold mb-2 text-primary text-sm flex items-center gap-2",children:[I.jsx(ay,{className:"w-4 h-4"}),"Relocation Status"]}),I.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(i.relocation_info).map(([m,g])=>I.jsxs("div",{className:"bg-secondary/50 p-2 rounded",children:[I.jsxs("p",{className:"capitalize text-muted-foreground",children:[m,":"]}),I.jsx("p",{className:"font-medium",children:g.status||"Not Relocated"}),g.relocated_to&&I.jsxs("p",{className:"text-xs text-muted-foreground",children:["To: ",g.relocated_to]})]},m))})]})]})})]})})},sE={apiKey:"AIzaSyAPw2XrDvYMu49IiWJmEEUFL6O2Zb2kyIg",authDomain:"clinic-inventory-e77e6.firebaseapp.com",databaseURL:"https://clinic-inventory-e77e6-default-rtdb.firebaseio.com",projectId:"clinic-inventory-e77e6",storageBucket:"clinic-inventory-e77e6.firebasestorage.app",messagingSenderId:"28860646838",appId:"1:28860646838:web:200b70eba27855ca712d17"},oE=ap(sE),Ai=JC(oE),lE=()=>{const[i,t]=pe.useState([]),[r,o]=pe.useState(null),[a,c]=pe.useState(null),[f,p]=pe.useState(!0),[m,g]=pe.useState(null),[S,w]=pe.useState(""),[k,M]=pe.useState(null),[j,V]=pe.useState(""),[q,Fe]=pe.useState(!1);pe.useEffect(()=>{(async()=>{try{p(!0);const ce=Ri(Ai,"facility_data"),$e=Ri(Ai,"location_details"),Ie=Ri(Ai,"operational_status"),tt=Ri(Ai,"master_inventory"),nt=Ri(Ai,"inventory"),[rt,gt,xt,Ke,we]=await Promise.all([Pi(ce),Pi($e),Pi(Ie),Pi(tt),Pi(nt)]),L=rt.val(),G=gt.val(),z=xt.val(),C=Ke.val(),T=we.val(),J=Object.keys(L).map(Y=>({"E-Clinic Code":Y,...L[Y],...G[Y],...z[Y]}));t(J),o(C),c(T),g(null)}catch(ce){g("Error fetching data: "+ce.message)}finally{p(!1)}})()},[]);const Ve=X=>{if(!(r!=null&&r.equipment_info))return{inventory:{},total:0};const ce={...r.equipment_info};X.rent_status==="In-House Clinic"&&(ce.fan.quantity=0);let Ie=0;return Object.entries(ce).forEach(([tt,nt])=>{Ie+=nt.quantity*nt.unit_cost}),{inventory:ce,total:Ie}},He=X=>{if(!a)return null;for(const[ce,$e]of Object.entries(a)){const Ie=Object.entries($e).find(([tt])=>tt===X);if(Ie)return{region:ce,inventory:Ie[1]}}return null},Pe=X=>a?Object.values(a).some(ce=>Object.keys(ce).includes(X)):!1,mt=pe.useMemo(()=>[...new Set(i.map(X=>X.state))].sort(),[i]),je=pe.useMemo(()=>i.filter(X=>{const ce=!S||X.state===S,$e=!j||X["E-Clinic Code"].toLowerCase().includes(j.toLowerCase())||X.clinic_name.toLowerCase().includes(j.toLowerCase()),Ie=!q||Pe(X["E-Clinic Code"]);return ce&&$e&&Ie}),[i,S,j,q,a]);return f?I.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),I.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading dashboard..."})]})}):m?I.jsxs("div",{className:"p-6 text-center text-red-500",children:[I.jsx(qh,{className:"w-8 h-8 mx-auto mb-2"}),I.jsx("p",{children:m})]}):I.jsxs("div",{className:"space-y-6",children:[I.jsx(nE,{clinicData:i,masterInventory:r,inventoryData:a}),I.jsx(rE,{selectedState:S,states:mt,searchQuery:j,showMatchedOnly:q,onStateChange:X=>{w(X.target.value),M(null)},onSearchChange:X=>V(X.target.value),onMatchedChange:X=>Fe(X)}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:je.map(X=>{const{inventory:ce,total:$e}=Ve(X),Ie=He(X["E-Clinic Code"]);return I.jsx(iE,{clinic:X,isSelected:(k==null?void 0:k["E-Clinic Code"])===X["E-Clinic Code"],onSelect:tt=>{M((k==null?void 0:k["E-Clinic Code"])===tt["E-Clinic Code"]?null:tt)},inventoryValue:$e,inventoryDetails:ce,regionInventory:Ie,relocationInfo:X.relocation_info},X["E-Clinic Code"])})}),je.length===0&&I.jsx("div",{className:"text-center py-8 text-muted-foreground",children:I.jsx("p",{children:"No clinics found matching your search criteria."})})]})};function aE(){return I.jsx(O_,{defaultTheme:"light",storageKey:"vite-ui-theme",children:I.jsxs("div",{className:"min-h-screen bg-background font-sans antialiased",children:[I.jsx("nav",{className:"border-b bg-card",children:I.jsx("div",{className:"container flex h-16 items-center px-4",children:I.jsx("div",{className:"flex items-center space-x-4",children:I.jsx("h1",{className:"text-xl font-bold text-primary",children:"Clinic Transfer Dashboard"})})})}),I.jsx("main",{className:"container mx-auto py-6 px-4",children:I.jsx(lE,{})}),I.jsx("footer",{className:"border-t mt-auto py-6 bg-card",children:I.jsx("div",{className:"container flex flex-col items-center justify-between gap-4 md:h-16 md:flex-row px-4",children:I.jsx("p",{className:"text-sm text-muted-foreground text-center md:text-left",children:"2024 and 2025 Clinic Transfers"})})})]})})}D_.createRoot(document.getElementById("root")).render(I.jsx(x_.StrictMode,{children:I.jsx(aE,{})}));
